"use strict";/*
 * SPDX-License-Identifier: Apache-2.0
 */function cov_1lbzhnkp8f(){var path="/home/prateeti/SOFIE-private-ledger/vulnerability-private-data-collections/src/vulnerability-contract.spec.ts";var hash="9185ecf2b9bfb155ddd8b5c95f2151789f6b6eb5";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/prateeti/SOFIE-private-ledger/vulnerability-private-data-collections/src/vulnerability-contract.spec.ts",statementMap:{"0":{start:{line:5,column:0},end:{line:5,column:62}},"1":{start:{line:6,column:22},end:{line:6,column:44}},"2":{start:{line:7,column:11},end:{line:7,column:23}},"3":{start:{line:8,column:13},end:{line:8,column:28}},"4":{start:{line:9,column:23},end:{line:9,column:50}},"5":{start:{line:10,column:15},end:{line:10,column:32}},"6":{start:{line:11,column:14},end:{line:11,column:30}},"7":{start:{line:12,column:18},end:{line:12,column:39}},"8":{start:{line:13,column:16},end:{line:13,column:34}},"9":{start:{line:14,column:0},end:{line:14,column:14}},"10":{start:{line:15,column:0},end:{line:15,column:25}},"11":{start:{line:16,column:0},end:{line:16,column:20}},"12":{start:{line:19,column:8},end:{line:19,column:74}},"13":{start:{line:20,column:8},end:{line:20,column:85}},"14":{start:{line:21,column:8},end:{line:24,column:10}},"15":{start:{line:27,column:0},end:{line:142,column:3}},"16":{start:{line:30,column:29},end:{line:30,column:44}},"17":{start:{line:31,column:4},end:{line:37,column:7}},"18":{start:{line:32,column:8},end:{line:32,column:50}},"19":{start:{line:33,column:8},end:{line:33,column:32}},"20":{start:{line:34,column:8},end:{line:34,column:113}},"21":{start:{line:35,column:29},end:{line:35,column:103}},"22":{start:{line:36,column:8},end:{line:36,column:113}},"23":{start:{line:38,column:4},end:{line:45,column:7}},"24":{start:{line:39,column:8},end:{line:41,column:11}},"25":{start:{line:40,column:12},end:{line:40,column:85}},"26":{start:{line:42,column:8},end:{line:44,column:11}},"27":{start:{line:43,column:12},end:{line:43,column:86}},"28":{start:{line:46,column:4},end:{line:76,column:7}},"29":{start:{line:47,column:8},end:{line:49,column:11}},"30":{start:{line:48,column:12},end:{line:48,column:136}},"31":{start:{line:50,column:8},end:{line:54,column:11}},"32":{start:{line:51,column:33},end:{line:51,column:42}},"33":{start:{line:52,column:12},end:{line:52,column:56}},"34":{start:{line:53,column:12},end:{line:53,column:150}},"35":{start:{line:55,column:8},end:{line:60,column:11}},"36":{start:{line:56,column:33},end:{line:56,column:42}},"37":{start:{line:57,column:12},end:{line:57,column:59}},"38":{start:{line:58,column:12},end:{line:58,column:56}},"39":{start:{line:59,column:12},end:{line:59,column:157}},"40":{start:{line:61,column:8},end:{line:75,column:11}},"41":{start:{line:62,column:33},end:{line:62,column:42}},"42":{start:{line:63,column:12},end:{line:63,column:62}},"43":{start:{line:64,column:12},end:{line:64,column:64}},"44":{start:{line:65,column:12},end:{line:65,column:65}},"45":{start:{line:66,column:12},end:{line:66,column:77}},"46":{start:{line:67,column:12},end:{line:67,column:74}},"47":{start:{line:68,column:12},end:{line:68,column:67}},"48":{start:{line:69,column:12},end:{line:69,column:64}},"49":{start:{line:70,column:12},end:{line:70,column:56}},"50":{start:{line:71,column:12},end:{line:71,column:59}},"51":{start:{line:72,column:29},end:{line:72,column:203}},"52":{start:{line:74,column:12},end:{line:74,column:123}},"53":{start:{line:77,column:4},end:{line:85,column:7}},"54":{start:{line:78,column:8},end:{line:80,column:11}},"55":{start:{line:79,column:12},end:{line:79,column:126}},"56":{start:{line:81,column:8},end:{line:84,column:11}},"57":{start:{line:82,column:12},end:{line:82,column:262}},"58":{start:{line:83,column:12},end:{line:83,column:96}},"59":{start:{line:86,column:4},end:{line:114,column:7}},"60":{start:{line:87,column:8},end:{line:89,column:11}},"61":{start:{line:88,column:12},end:{line:88,column:128}},"62":{start:{line:90,column:8},end:{line:102,column:11}},"63":{start:{line:91,column:33},end:{line:91,column:42}},"64":{start:{line:92,column:12},end:{line:92,column:61}},"65":{start:{line:93,column:12},end:{line:93,column:64}},"66":{start:{line:94,column:12},end:{line:94,column:64}},"67":{start:{line:95,column:12},end:{line:95,column:76}},"68":{start:{line:96,column:12},end:{line:96,column:78}},"69":{start:{line:97,column:12},end:{line:97,column:68}},"70":{start:{line:98,column:12},end:{line:98,column:70}},"71":{start:{line:99,column:12},end:{line:99,column:56}},"72":{start:{line:100,column:12},end:{line:100,column:59}},"73":{start:{line:101,column:12},end:{line:101,column:276}},"74":{start:{line:115,column:4},end:{line:123,column:7}},"75":{start:{line:116,column:8},end:{line:118,column:11}},"76":{start:{line:117,column:12},end:{line:117,column:128}},"77":{start:{line:119,column:8},end:{line:122,column:11}},"78":{start:{line:120,column:12},end:{line:120,column:59}},"79":{start:{line:121,column:12},end:{line:121,column:103}},"80":{start:{line:124,column:4},end:{line:141,column:7}},"81":{start:{line:125,column:8},end:{line:131,column:11}},"82":{start:{line:126,column:31},end:{line:126,column:55}},"83":{start:{line:127,column:33},end:{line:127,column:93}},"84":{start:{line:128,column:12},end:{line:128,column:117}},"85":{start:{line:129,column:27},end:{line:129,column:242}},"86":{start:{line:130,column:12},end:{line:130,column:38}},"87":{start:{line:132,column:8},end:{line:136,column:11}},"88":{start:{line:133,column:12},end:{line:133,column:108}},"89":{start:{line:134,column:27},end:{line:134,column:247}},"90":{start:{line:135,column:12},end:{line:135,column:39}},"91":{start:{line:137,column:8},end:{line:140,column:11}},"92":{start:{line:138,column:12},end:{line:138,column:100}},"93":{start:{line:139,column:12},end:{line:139,column:298}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:18},end:{line:25,column:5}},line:18},"1":{name:"(anonymous_1)",decl:{start:{line:27,column:34},end:{line:27,column:35}},loc:{start:{line:27,column:40},end:{line:142,column:1}},line:27},"2":{name:"(anonymous_2)",decl:{start:{line:31,column:15},end:{line:31,column:16}},loc:{start:{line:31,column:21},end:{line:37,column:5}},line:31},"3":{name:"(anonymous_3)",decl:{start:{line:38,column:37},end:{line:38,column:38}},loc:{start:{line:38,column:43},end:{line:45,column:5}},line:38},"4":{name:"(anonymous_4)",decl:{start:{line:39,column:53},end:{line:39,column:54}},loc:{start:{line:39,column:65},end:{line:41,column:9}},line:39},"5":{name:"(anonymous_5)",decl:{start:{line:42,column:74},end:{line:42,column:75}},loc:{start:{line:42,column:86},end:{line:44,column:9}},line:42},"6":{name:"(anonymous_6)",decl:{start:{line:46,column:37},end:{line:46,column:38}},loc:{start:{line:46,column:43},end:{line:76,column:5}},line:46},"7":{name:"(anonymous_7)",decl:{start:{line:47,column:84},end:{line:47,column:85}},loc:{start:{line:47,column:96},end:{line:49,column:9}},line:47},"8":{name:"(anonymous_8)",decl:{start:{line:50,column:108},end:{line:50,column:109}},loc:{start:{line:50,column:120},end:{line:54,column:9}},line:50},"9":{name:"(anonymous_9)",decl:{start:{line:55,column:87},end:{line:55,column:88}},loc:{start:{line:55,column:99},end:{line:60,column:9}},line:55},"10":{name:"(anonymous_10)",decl:{start:{line:61,column:88},end:{line:61,column:89}},loc:{start:{line:61,column:100},end:{line:75,column:9}},line:61},"11":{name:"(anonymous_11)",decl:{start:{line:77,column:42},end:{line:77,column:43}},loc:{start:{line:77,column:48},end:{line:85,column:5}},line:77},"12":{name:"(anonymous_12)",decl:{start:{line:78,column:76},end:{line:78,column:77}},loc:{start:{line:78,column:88},end:{line:80,column:9}},line:78},"13":{name:"(anonymous_13)",decl:{start:{line:81,column:44},end:{line:81,column:45}},loc:{start:{line:81,column:56},end:{line:84,column:9}},line:81},"14":{name:"(anonymous_14)",decl:{start:{line:86,column:37},end:{line:86,column:38}},loc:{start:{line:86,column:43},end:{line:114,column:5}},line:86},"15":{name:"(anonymous_15)",decl:{start:{line:87,column:76},end:{line:87,column:77}},loc:{start:{line:87,column:88},end:{line:89,column:9}},line:87},"16":{name:"(anonymous_16)",decl:{start:{line:90,column:69},end:{line:90,column:70}},loc:{start:{line:90,column:81},end:{line:102,column:9}},line:90},"17":{name:"(anonymous_17)",decl:{start:{line:115,column:37},end:{line:115,column:38}},loc:{start:{line:115,column:43},end:{line:123,column:5}},line:115},"18":{name:"(anonymous_18)",decl:{start:{line:116,column:76},end:{line:116,column:77}},loc:{start:{line:116,column:88},end:{line:118,column:9}},line:116},"19":{name:"(anonymous_19)",decl:{start:{line:119,column:44},end:{line:119,column:45}},loc:{start:{line:119,column:56},end:{line:122,column:9}},line:119},"20":{name:"(anonymous_20)",decl:{start:{line:124,column:37},end:{line:124,column:38}},loc:{start:{line:124,column:43},end:{line:141,column:5}},line:124},"21":{name:"(anonymous_21)",decl:{start:{line:125,column:110},end:{line:125,column:111}},loc:{start:{line:125,column:122},end:{line:131,column:9}},line:125},"22":{name:"(anonymous_22)",decl:{start:{line:132,column:118},end:{line:132,column:119}},loc:{start:{line:132,column:130},end:{line:136,column:9}},line:132},"23":{name:"(anonymous_23)",decl:{start:{line:137,column:89},end:{line:137,column:90}},loc:{start:{line:137,column:101},end:{line:140,column:9}},line:137}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},b:{},inputSourceMap:{version:3,file:"/home/prateeti/SOFIE-private-ledger/vulnerability-private-data-collections/src/vulnerability-contract.spec.ts",sources:["/home/prateeti/SOFIE-private-ledger/vulnerability-private-data-collections/src/vulnerability-contract.spec.ts"],names:[],mappings:"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",sourcesContent:["/*\n * SPDX-License-Identifier: Apache-2.0\n */\n\n//  tslint:disable: no-unused-expression\nimport { Context } from 'fabric-contract-api';\nimport { ChaincodeStub, ClientIdentity } from 'fabric-shim';\nimport { VulnerabilityContract } from '.';\n\nimport * as chai from 'chai';\nimport * as chaiAsPromised from 'chai-as-promised';\nimport crypto = require('crypto');\nimport * as sinon from 'sinon';\nimport * as sinonChai from 'sinon-chai';\nimport winston = require('winston');\n\nchai.should();\nchai.use(chaiAsPromised);\nchai.use(sinonChai);\n\nclass TestContext implements Context {\n    public stub: sinon.SinonStubbedInstance<ChaincodeStub> = sinon.createStubInstance(ChaincodeStub);\n    public clientIdentity: sinon.SinonStubbedInstance<ClientIdentity> = sinon.createStubInstance(ClientIdentity);\n    public logging = {\n        getLogger: sinon.stub().returns(sinon.createStubInstance(winston.createLogger().constructor)),\n        setLevel: sinon.stub(),\n    };\n}\n\ndescribe('VulnerabilityContract', () => {\n\n    let contract: VulnerabilityContract;\n    let ctx: TestContext;\n    const myCollectionName: string = 'CollectionOne';\n\n    beforeEach(() => {\n        contract = new VulnerabilityContract();\n        ctx = new TestContext();\n        ctx.stub.getPrivateData.withArgs(myCollectionName, '001').resolves(Buffer.from('{privateValue\":\"150\"}'));\n        const hashToVerify = crypto.createHash('sha256').update('{\"privateValue\":\"150\"}').digest('hex');\n        ctx.stub.getPrivateDataHash.withArgs(myCollectionName, '001').resolves(Buffer.from(hashToVerify, 'hex'));\n    });\n\n    describe('#vulnerabilityExists', () => {\n\n        it('should return true for a vulnerability', async () => {\n            await contract.vulnerabilityExists(ctx, '001').should.eventually.be.true;\n        });\n\n        it('should return false for a vulnerability that does not exist', async () => {\n            await contract.vulnerabilityExists(ctx, '003').should.eventually.be.false;\n        });\n    });\n\n    describe('#createVulnerability', () => {\n\n        it('should throw an error for a vulnerability details that already exists', async () => {\n            await contract.createVulnerability(ctx, '001').should.be.rejectedWith(/The asset vulnerability details 001 already exists/);\n        });\n\n        it('should throw an error if transient data is not provided when creating a vulnerability details', async () => {\n            const transientMap: Map<string, Buffer> = new Map<string, Buffer>();\n            ctx.stub.getTransient.returns(transientMap);\n            await contract.createVulnerability(ctx, '002').should.be.rejectedWith('The keys were not specified in transient data. Please try again.');\n        });\n\n        it('should throw an error if transient data key is not vulnerability details', async () => {\n            const transientMap: Map<string, Buffer> = new Map<string, Buffer>();\n            transientMap.set('vendID', Buffer.from('125'));// add all the vul details\n            ctx.stub.getTransient.returns(transientMap);\n            await contract.createVulnerability(ctx,'002').should.be.rejectedWith(`The vendorID key was not specified in transient data. Please try again.`);\n        });\n\n        it('should create a vulnerability details if transient data keys are provided', async () => {\n            const transientMap: Map<string, Buffer> = new Map<string, Buffer>();\n            transientMap.set('vendorID', Buffer.from('1500'));\n            transientMap.set('vendorName', Buffer.from('Sony'));\n            transientMap.set('productName', Buffer.from('LoU2'));\n            transientMap.set('vulnerabilityType', Buffer.from('Weak Story'));\n            transientMap.set('vulnerabilitySeverity', Buffer.from('Meh'));\n            transientMap.set('gracePeriod', Buffer.from('0 days'));\n            transientMap.set('bountyAmount', Buffer.from('$0'));\n            ctx.stub.getTransient.returns(transientMap);\n            await contract.createVulnerability(ctx, '002');\n            const newLocal = '{\"vendorID\":\"1500\", \"vendorName\":\"Sony\", \"productName\":\"LoU2\", \"vulnerabilityType\":\"Weak Story\", \"vulnerabilitySeverity\":\"Meh\", \"gracePeriod\":\"0 days\", \"bountyAmount\":\"$0\"}';\n            // ctx.stub.putPrivateData.should.have.been.calledOnceWithExactly(myCollectionName, '002', Buffer.from('{\"privateValue\":\"1500\"}'));\n            ctx.stub.putPrivateData.should.have.been.calledOnceWithExactly(myCollectionName, '002', Buffer.from(newLocal));\n        });\n    });\n\n    describe('#readPrivateVulnerability', () => {\n\n        it('should throw an error for a vulnerability that does not exist', async () => {\n            await contract.readVulnerability(ctx, '003').should.be.rejectedWith(/The asset vulnerability 003 does not exist/);\n        });\n\n        it('should return a vulnerability', async () => {\n            await contract.readVulnerability(ctx, '002').should.eventually.deep.equal('{\"vendorID\":\"1500\", \"vendorName\":\"Sony\", \"productName\":\"LoU2\", \"vulnerabilityType\":\"Weak Story\", \"vulnerabilitySeverity\":\"Meh\", \"gracePeriod\":\"0 days\", \"bountyAmount\":\"$0\"}');\n            ctx.stub.getPrivateData.should.have.been.calledWithExactly(myCollectionName, '002');\n        });\n    });\n\n    describe('#updateVulnerability', () => {\n\n        it('should throw an error for a vulnerability that does not exist', async () => {\n            await contract.updateVulnerability(ctx, '003').should.be.rejectedWith(/The asset vulnerability 003 does not exist/);\n        });\n        it('should update my private asset if vulnerability exists', async () => {\n            const transientMap: Map<string, Buffer> = new Map<string, Buffer>();\n            transientMap.set('vendorID', Buffer.from('189'));\n            transientMap.set('vendorName', Buffer.from('Sony'));\n            transientMap.set('productName', Buffer.from('PS5'));\n            transientMap.set('vulnerbilityType', Buffer.from('SJW Agenda'));\n            transientMap.set('vulnerabilitySeverity', Buffer.from('P192819'));\n            transientMap.set('gracePeriod', Buffer.from('89 days'));\n            transientMap.set('bountyAmount', Buffer.from('$1267126'));\n            ctx.stub.getTransient.returns(transientMap);\n            await contract.updateVulnerability(ctx, '001');\n            ctx.stub.putPrivateData.should.have.been.calledOnceWithExactly(myCollectionName, '002', '{\"vendorID\":\"1500\", \"vendorName\":\"Sony\", \"productName\":\"LoU2\", \"vulnerabilityType\":\"SJW Agenda\", \"vulnerabilitySeverity\":\"Meh\", \"gracePeriod\":\"0 days\", \"bountyAmount\":\"$0\"}');\n        });\n\n        /* it('should throw an error if transient data is not provided when updating a vulnerability', async () => {\n            const transientMap: Map<string, Buffer> = new Map<string, Buffer>();\n            ctx.stub.getTransient.returns(transientMap);\n            await contract.updateVulnerability(ctx, '001', \"Not Patched\").should.be.rejectedWith(`The privateValue key was not specified in transient data. Please try again.`);\n        });*/\n\n        /* it('should throw an error if transient data key is not privateValue', async () => {\n            const transientMap: Map<string, Buffer> = new Map<string, Buffer>();\n            transientMap.set('prVal', Buffer.from('125'));\n            ctx.stub.getTransient.returns(transientMap);\n            await contract.updateVulnerability(ctx, '001').should.be.rejectedWith(`The privateValue key was not specified in transient data. Please try again.`);\n        });*/\n    });\n\n    describe('#deleteVulnerability', () => {\n\n        it('should throw an error for a vulnerability that does not exist', async () => {\n            await contract.deleteVulnerability(ctx, '003').should.be.rejectedWith(/The asset vulnerability 003 does not exist/);\n        });\n\n        it('should delete a vulnerability', async () => {\n            await contract.deleteVulnerability(ctx, '001');\n            ctx.stub.deletePrivateData.should.have.been.calledOnceWithExactly(myCollectionName, '001');\n        });\n    });\n\n    describe('#verifyVulnerability', () => {\n\n        it('should return true if hash calculated from object provided matches the hash of the private data', async () => {\n            const privateObj: string = '{\"privateValue\":\"125\"}';\n            const hashToVerify: string = crypto.createHash('sha256').update(privateObj).digest('hex');\n            ctx.stub.getPrivateDataHash.withArgs(myCollectionName, '002').resolves(Buffer.from(hashToVerify, 'hex'));\n            const result: boolean = await contract.verifyVulnerability(ctx, '002', {vendorID:'1500', vendorName:'Sony', productName:'LoU2', vulnerabilityType:'SJW Agenda', vulnerabilitySeverity:'Meh', gracePeriod:'0 days', bountyAmount:'$0'});\n            result.should.equal(true);\n        });\n\n        it('should return false if hash calculated from object provided does not match the hash of the private data', async () => {\n            ctx.stub.getPrivateDataHash.withArgs(myCollectionName, '002').resolves(Buffer.from('someHash'));\n            const result: boolean = await contract.verifyVulnerability(ctx, '002', {vendorID:'someValue', vendorName:'Sony', productName:'LoU2', vulnerabilityType:'Weak Story', vulnerabilitySeverity:'Meh', gracePeriod:'0 days', bountyAmount:'$0'});\n            result.should.equal(false);\n        });\n        it('should throw an error when user tries to verify an asset that doesnt exist', async () => {\n            ctx.stub.getPrivateDataHash.withArgs(myCollectionName, '005').resolves(Buffer.from(''));\n            await contract.verifyVulnerability(ctx, '005', {vendorID:'someValue', vendorName:'Sony', productName:'LoU2', vulnerabilityType:'Weak Story', vulnerabilitySeverity:'Meh', gracePeriod:'0 days', bountyAmount:'$0'}).should.be.rejectedWith('No private data hash with the Key: 005');\n        });\n    });\n});\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9185ecf2b9bfb155ddd8b5c95f2151789f6b6eb5"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_1lbzhnkp8f=function(){return actualCoverage;};return actualCoverage;}cov_1lbzhnkp8f();cov_1lbzhnkp8f().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});const fabric_shim_1=(cov_1lbzhnkp8f().s[1]++,require("fabric-shim"));const _1=(cov_1lbzhnkp8f().s[2]++,require("."));const chai=(cov_1lbzhnkp8f().s[3]++,require("chai"));const chaiAsPromised=(cov_1lbzhnkp8f().s[4]++,require("chai-as-promised"));const crypto=(cov_1lbzhnkp8f().s[5]++,require("crypto"));const sinon=(cov_1lbzhnkp8f().s[6]++,require("sinon"));const sinonChai=(cov_1lbzhnkp8f().s[7]++,require("sinon-chai"));const winston=(cov_1lbzhnkp8f().s[8]++,require("winston"));cov_1lbzhnkp8f().s[9]++;chai.should();cov_1lbzhnkp8f().s[10]++;chai.use(chaiAsPromised);cov_1lbzhnkp8f().s[11]++;chai.use(sinonChai);class TestContext{constructor(){cov_1lbzhnkp8f().f[0]++;cov_1lbzhnkp8f().s[12]++;this.stub=sinon.createStubInstance(fabric_shim_1.ChaincodeStub);cov_1lbzhnkp8f().s[13]++;this.clientIdentity=sinon.createStubInstance(fabric_shim_1.ClientIdentity);cov_1lbzhnkp8f().s[14]++;this.logging={getLogger:sinon.stub().returns(sinon.createStubInstance(winston.createLogger().constructor)),setLevel:sinon.stub()};}}cov_1lbzhnkp8f().s[15]++;describe('VulnerabilityContract',()=>{cov_1lbzhnkp8f().f[1]++;let contract;let ctx;const myCollectionName=(cov_1lbzhnkp8f().s[16]++,'CollectionOne');cov_1lbzhnkp8f().s[17]++;beforeEach(()=>{cov_1lbzhnkp8f().f[2]++;cov_1lbzhnkp8f().s[18]++;contract=new _1.VulnerabilityContract();cov_1lbzhnkp8f().s[19]++;ctx=new TestContext();cov_1lbzhnkp8f().s[20]++;ctx.stub.getPrivateData.withArgs(myCollectionName,'001').resolves(Buffer.from('{privateValue":"150"}'));const hashToVerify=(cov_1lbzhnkp8f().s[21]++,crypto.createHash('sha256').update('{"privateValue":"150"}').digest('hex'));cov_1lbzhnkp8f().s[22]++;ctx.stub.getPrivateDataHash.withArgs(myCollectionName,'001').resolves(Buffer.from(hashToVerify,'hex'));});cov_1lbzhnkp8f().s[23]++;describe('#vulnerabilityExists',()=>{cov_1lbzhnkp8f().f[3]++;cov_1lbzhnkp8f().s[24]++;it('should return true for a vulnerability',async()=>{cov_1lbzhnkp8f().f[4]++;cov_1lbzhnkp8f().s[25]++;await contract.vulnerabilityExists(ctx,'001').should.eventually.be.true;});cov_1lbzhnkp8f().s[26]++;it('should return false for a vulnerability that does not exist',async()=>{cov_1lbzhnkp8f().f[5]++;cov_1lbzhnkp8f().s[27]++;await contract.vulnerabilityExists(ctx,'003').should.eventually.be.false;});});cov_1lbzhnkp8f().s[28]++;describe('#createVulnerability',()=>{cov_1lbzhnkp8f().f[6]++;cov_1lbzhnkp8f().s[29]++;it('should throw an error for a vulnerability details that already exists',async()=>{cov_1lbzhnkp8f().f[7]++;cov_1lbzhnkp8f().s[30]++;await contract.createVulnerability(ctx,'001').should.be.rejectedWith(/The asset vulnerability details 001 already exists/);});cov_1lbzhnkp8f().s[31]++;it('should throw an error if transient data is not provided when creating a vulnerability details',async()=>{cov_1lbzhnkp8f().f[8]++;const transientMap=(cov_1lbzhnkp8f().s[32]++,new Map());cov_1lbzhnkp8f().s[33]++;ctx.stub.getTransient.returns(transientMap);cov_1lbzhnkp8f().s[34]++;await contract.createVulnerability(ctx,'002').should.be.rejectedWith('The keys were not specified in transient data. Please try again.');});cov_1lbzhnkp8f().s[35]++;it('should throw an error if transient data key is not vulnerability details',async()=>{cov_1lbzhnkp8f().f[9]++;const transientMap=(cov_1lbzhnkp8f().s[36]++,new Map());cov_1lbzhnkp8f().s[37]++;transientMap.set('vendID',Buffer.from('125'));// add all the vul details
cov_1lbzhnkp8f().s[38]++;ctx.stub.getTransient.returns(transientMap);cov_1lbzhnkp8f().s[39]++;await contract.createVulnerability(ctx,'002').should.be.rejectedWith(`The vendorID key was not specified in transient data. Please try again.`);});cov_1lbzhnkp8f().s[40]++;it('should create a vulnerability details if transient data keys are provided',async()=>{cov_1lbzhnkp8f().f[10]++;const transientMap=(cov_1lbzhnkp8f().s[41]++,new Map());cov_1lbzhnkp8f().s[42]++;transientMap.set('vendorID',Buffer.from('1500'));cov_1lbzhnkp8f().s[43]++;transientMap.set('vendorName',Buffer.from('Sony'));cov_1lbzhnkp8f().s[44]++;transientMap.set('productName',Buffer.from('LoU2'));cov_1lbzhnkp8f().s[45]++;transientMap.set('vulnerabilityType',Buffer.from('Weak Story'));cov_1lbzhnkp8f().s[46]++;transientMap.set('vulnerabilitySeverity',Buffer.from('Meh'));cov_1lbzhnkp8f().s[47]++;transientMap.set('gracePeriod',Buffer.from('0 days'));cov_1lbzhnkp8f().s[48]++;transientMap.set('bountyAmount',Buffer.from('$0'));cov_1lbzhnkp8f().s[49]++;ctx.stub.getTransient.returns(transientMap);cov_1lbzhnkp8f().s[50]++;await contract.createVulnerability(ctx,'002');const newLocal=(cov_1lbzhnkp8f().s[51]++,'{"vendorID":"1500", "vendorName":"Sony", "productName":"LoU2", "vulnerabilityType":"Weak Story", "vulnerabilitySeverity":"Meh", "gracePeriod":"0 days", "bountyAmount":"$0"}');// ctx.stub.putPrivateData.should.have.been.calledOnceWithExactly(myCollectionName, '002', Buffer.from('{"privateValue":"1500"}'));
cov_1lbzhnkp8f().s[52]++;ctx.stub.putPrivateData.should.have.been.calledOnceWithExactly(myCollectionName,'002',Buffer.from(newLocal));});});cov_1lbzhnkp8f().s[53]++;describe('#readPrivateVulnerability',()=>{cov_1lbzhnkp8f().f[11]++;cov_1lbzhnkp8f().s[54]++;it('should throw an error for a vulnerability that does not exist',async()=>{cov_1lbzhnkp8f().f[12]++;cov_1lbzhnkp8f().s[55]++;await contract.readVulnerability(ctx,'003').should.be.rejectedWith(/The asset vulnerability 003 does not exist/);});cov_1lbzhnkp8f().s[56]++;it('should return a vulnerability',async()=>{cov_1lbzhnkp8f().f[13]++;cov_1lbzhnkp8f().s[57]++;await contract.readVulnerability(ctx,'002').should.eventually.deep.equal('{"vendorID":"1500", "vendorName":"Sony", "productName":"LoU2", "vulnerabilityType":"Weak Story", "vulnerabilitySeverity":"Meh", "gracePeriod":"0 days", "bountyAmount":"$0"}');cov_1lbzhnkp8f().s[58]++;ctx.stub.getPrivateData.should.have.been.calledWithExactly(myCollectionName,'002');});});cov_1lbzhnkp8f().s[59]++;describe('#updateVulnerability',()=>{cov_1lbzhnkp8f().f[14]++;cov_1lbzhnkp8f().s[60]++;it('should throw an error for a vulnerability that does not exist',async()=>{cov_1lbzhnkp8f().f[15]++;cov_1lbzhnkp8f().s[61]++;await contract.updateVulnerability(ctx,'003').should.be.rejectedWith(/The asset vulnerability 003 does not exist/);});cov_1lbzhnkp8f().s[62]++;it('should update my private asset if vulnerability exists',async()=>{cov_1lbzhnkp8f().f[16]++;const transientMap=(cov_1lbzhnkp8f().s[63]++,new Map());cov_1lbzhnkp8f().s[64]++;transientMap.set('vendorID',Buffer.from('189'));cov_1lbzhnkp8f().s[65]++;transientMap.set('vendorName',Buffer.from('Sony'));cov_1lbzhnkp8f().s[66]++;transientMap.set('productName',Buffer.from('PS5'));cov_1lbzhnkp8f().s[67]++;transientMap.set('vulnerbilityType',Buffer.from('SJW Agenda'));cov_1lbzhnkp8f().s[68]++;transientMap.set('vulnerabilitySeverity',Buffer.from('P192819'));cov_1lbzhnkp8f().s[69]++;transientMap.set('gracePeriod',Buffer.from('89 days'));cov_1lbzhnkp8f().s[70]++;transientMap.set('bountyAmount',Buffer.from('$1267126'));cov_1lbzhnkp8f().s[71]++;ctx.stub.getTransient.returns(transientMap);cov_1lbzhnkp8f().s[72]++;await contract.updateVulnerability(ctx,'001');cov_1lbzhnkp8f().s[73]++;ctx.stub.putPrivateData.should.have.been.calledOnceWithExactly(myCollectionName,'002','{"vendorID":"1500", "vendorName":"Sony", "productName":"LoU2", "vulnerabilityType":"SJW Agenda", "vulnerabilitySeverity":"Meh", "gracePeriod":"0 days", "bountyAmount":"$0"}');});/* it('should throw an error if transient data is not provided when updating a vulnerability', async () => {
            const transientMap: Map<string, Buffer> = new Map<string, Buffer>();
            ctx.stub.getTransient.returns(transientMap);
            await contract.updateVulnerability(ctx, '001', "Not Patched").should.be.rejectedWith(`The privateValue key was not specified in transient data. Please try again.`);
        });*/ /* it('should throw an error if transient data key is not privateValue', async () => {
            const transientMap: Map<string, Buffer> = new Map<string, Buffer>();
            transientMap.set('prVal', Buffer.from('125'));
            ctx.stub.getTransient.returns(transientMap);
            await contract.updateVulnerability(ctx, '001').should.be.rejectedWith(`The privateValue key was not specified in transient data. Please try again.`);
        });*/});cov_1lbzhnkp8f().s[74]++;describe('#deleteVulnerability',()=>{cov_1lbzhnkp8f().f[17]++;cov_1lbzhnkp8f().s[75]++;it('should throw an error for a vulnerability that does not exist',async()=>{cov_1lbzhnkp8f().f[18]++;cov_1lbzhnkp8f().s[76]++;await contract.deleteVulnerability(ctx,'003').should.be.rejectedWith(/The asset vulnerability 003 does not exist/);});cov_1lbzhnkp8f().s[77]++;it('should delete a vulnerability',async()=>{cov_1lbzhnkp8f().f[19]++;cov_1lbzhnkp8f().s[78]++;await contract.deleteVulnerability(ctx,'001');cov_1lbzhnkp8f().s[79]++;ctx.stub.deletePrivateData.should.have.been.calledOnceWithExactly(myCollectionName,'001');});});cov_1lbzhnkp8f().s[80]++;describe('#verifyVulnerability',()=>{cov_1lbzhnkp8f().f[20]++;cov_1lbzhnkp8f().s[81]++;it('should return true if hash calculated from object provided matches the hash of the private data',async()=>{cov_1lbzhnkp8f().f[21]++;const privateObj=(cov_1lbzhnkp8f().s[82]++,'{"privateValue":"125"}');const hashToVerify=(cov_1lbzhnkp8f().s[83]++,crypto.createHash('sha256').update(privateObj).digest('hex'));cov_1lbzhnkp8f().s[84]++;ctx.stub.getPrivateDataHash.withArgs(myCollectionName,'002').resolves(Buffer.from(hashToVerify,'hex'));const result=(cov_1lbzhnkp8f().s[85]++,await contract.verifyVulnerability(ctx,'002',{vendorID:'1500',vendorName:'Sony',productName:'LoU2',vulnerabilityType:'SJW Agenda',vulnerabilitySeverity:'Meh',gracePeriod:'0 days',bountyAmount:'$0'}));cov_1lbzhnkp8f().s[86]++;result.should.equal(true);});cov_1lbzhnkp8f().s[87]++;it('should return false if hash calculated from object provided does not match the hash of the private data',async()=>{cov_1lbzhnkp8f().f[22]++;cov_1lbzhnkp8f().s[88]++;ctx.stub.getPrivateDataHash.withArgs(myCollectionName,'002').resolves(Buffer.from('someHash'));const result=(cov_1lbzhnkp8f().s[89]++,await contract.verifyVulnerability(ctx,'002',{vendorID:'someValue',vendorName:'Sony',productName:'LoU2',vulnerabilityType:'Weak Story',vulnerabilitySeverity:'Meh',gracePeriod:'0 days',bountyAmount:'$0'}));cov_1lbzhnkp8f().s[90]++;result.should.equal(false);});cov_1lbzhnkp8f().s[91]++;it('should throw an error when user tries to verify an asset that doesnt exist',async()=>{cov_1lbzhnkp8f().f[23]++;cov_1lbzhnkp8f().s[92]++;ctx.stub.getPrivateDataHash.withArgs(myCollectionName,'005').resolves(Buffer.from(''));cov_1lbzhnkp8f().s[93]++;await contract.verifyVulnerability(ctx,'005',{vendorID:'someValue',vendorName:'Sony',productName:'LoU2',vulnerabilityType:'Weak Story',vulnerabilitySeverity:'Meh',gracePeriod:'0 days',bountyAmount:'$0'}).should.be.rejectedWith('No private data hash with the Key: 005');});});});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvcHJhdGVldGkvU09GSUUtcHJpdmF0ZS1sZWRnZXIvdnVsbmVyYWJpbGl0eS1wcml2YXRlLWRhdGEtY29sbGVjdGlvbnMvc3JjL3Z1bG5lcmFiaWxpdHktY29udHJhY3Quc3BlYy50cyIsInNvdXJjZXMiOlsiL2hvbWUvcHJhdGVldGkvU09GSUUtcHJpdmF0ZS1sZWRnZXIvdnVsbmVyYWJpbGl0eS1wcml2YXRlLWRhdGEtY29sbGVjdGlvbnMvc3JjL3Z1bG5lcmFiaWxpdHktY29udHJhY3Quc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7O0FBSUgsNkNBQTREO0FBQzVELHdCQUEwQztBQUUxQyw2QkFBNkI7QUFDN0IsbURBQW1EO0FBQ25ELGlDQUFrQztBQUNsQywrQkFBK0I7QUFDL0Isd0NBQXdDO0FBQ3hDLG1DQUFvQztBQUVwQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDZCxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQ3pCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7QUFFcEIsTUFBTSxXQUFXO0lBQWpCO1FBQ1csU0FBSSxHQUE4QyxLQUFLLENBQUMsa0JBQWtCLENBQUMsMkJBQWEsQ0FBQyxDQUFDO1FBQzFGLG1CQUFjLEdBQStDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyw0QkFBYyxDQUFDLENBQUM7UUFDdEcsWUFBTyxHQUFHO1lBQ2IsU0FBUyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUM3RixRQUFRLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRTtTQUN6QixDQUFDO0lBQ04sQ0FBQztDQUFBO0FBRUQsUUFBUSxDQUFDLHVCQUF1QixFQUFFLEdBQUcsRUFBRTtJQUVuQyxJQUFJLFFBQStCLENBQUM7SUFDcEMsSUFBSSxH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QUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyx3Q0FBd0MsQ0FBQyxDQUFDO1FBQ3pSLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vICB0c2xpbnQ6ZGlzYWJsZTogbm8tdW51c2VkLWV4cHJlc3Npb25cbmltcG9ydCB7IENvbnRleHQgfSBmcm9tICdmYWJyaWMtY29udHJhY3QtYXBpJztcbmltcG9ydCB7IENoYWluY29kZVN0dWIsIENsaWVudElkZW50aXR5IH0gZnJvbSAnZmFicmljLXNoaW0nO1xuaW1wb3J0IHsgVnVsbmVyYWJpbGl0eUNvbnRyYWN0IH0gZnJvbSAnLic7XG5cbmltcG9ydCAqIGFzIGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgKiBhcyBjaGFpQXNQcm9taXNlZCBmcm9tICdjaGFpLWFzLXByb21pc2VkJztcbmltcG9ydCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcbmltcG9ydCAqIGFzIHNpbm9uIGZyb20gJ3Npbm9uJztcbmltcG9ydCAqIGFzIHNpbm9uQ2hhaSBmcm9tICdzaW5vbi1jaGFpJztcbmltcG9ydCB3aW5zdG9uID0gcmVxdWlyZSgnd2luc3RvbicpO1xuXG5jaGFpLnNob3VsZCgpO1xuY2hhaS51c2UoY2hhaUFzUHJvbWlzZWQpO1xuY2hhaS51c2Uoc2lub25DaGFpKTtcblxuY2xhc3MgVGVzdENvbnRleHQgaW1wbGVtZW50cyBDb250ZXh0IHtcbiAgICBwdWJsaWMgc3R1Yjogc2lub24uU2lub25TdHViYmVkSW5zdGFuY2U8Q2hhaW5jb2RlU3R1Yj4gPSBzaW5vbi5jcmVhdGVTdHViSW5zdGFuY2UoQ2hhaW5jb2RlU3R1Yik7XG4gICAgcHVibGljIGNsaWVudElkZW50aXR5OiBzaW5vbi5TaW5vblN0dWJiZWRJbnN0YW5jZTxDbGllbnRJZGVudGl0eT4gPSBzaW5vbi5jcmVhdGVTdHViSW5zdGFuY2UoQ2xpZW50SWRlbnRpdHkpO1xuICAgIHB1YmxpYyBsb2dnaW5nID0ge1xuICAgICAgICBnZXRMb2dnZXI6IHNpbm9uLnN0dWIoKS5yZXR1cm5zKHNpbm9uLmNyZWF0ZVN0dWJJbnN0YW5jZSh3aW5zdG9uLmNyZWF0ZUxvZ2dlcigpLmNvbnN0cnVjdG9yKSksXG4gICAgICAgIHNldExldmVsOiBzaW5vbi5zdHViKCksXG4gICAgfTtcbn1cblxuZGVzY3JpYmUoJ1Z1bG5lcmFiaWxpdHlDb250cmFjdCcsICgpID0+IHtcblxuICAgIGxldCBjb250cmFjdDogVnVsbmVyYWJpbGl0eUNvbnRyYWN0O1xuICAgIGxldCBjdHg6IFRlc3RDb250ZXh0O1xuICAgIGNvbnN0IG15Q29sbGVjdGlvbk5hbWU6IHN0cmluZyA9ICdDb2xsZWN0aW9uT25lJztcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICBjb250cmFjdCA9IG5ldyBWdWxuZXJhYmlsaXR5Q29udHJhY3QoKTtcbiAgICAgICAgY3R4ID0gbmV3IFRlc3RDb250ZXh0KCk7XG4gICAgICAgIGN0eC5zdHViLmdldFByaXZhdGVEYXRhLndpdGhBcmdzKG15Q29sbGVjdGlvbk5hbWUsICcwMDEnKS5yZXNvbHZlcyhCdWZmZXIuZnJvbSgne3ByaXZhdGVWYWx1ZVwiOlwiMTUwXCJ9JykpO1xuICAgICAgICBjb25zdCBoYXNoVG9WZXJpZnkgPSBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMjU2JykudXBkYXRlKCd7XCJwcml2YXRlVmFsdWVcIjpcIjE1MFwifScpLmRpZ2VzdCgnaGV4Jyk7XG4gICAgICAgIGN0eC5zdHViLmdldFByaXZhdGVEYXRhSGFzaC53aXRoQXJncyhteUNvbGxlY3Rpb25OYW1lLCAnMDAxJykucmVzb2x2ZXMoQnVmZmVyLmZyb20oaGFzaFRvVmVyaWZ5LCAnaGV4JykpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJyN2dWxuZXJhYmlsaXR5RXhpc3RzJywgKCkgPT4ge1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgZm9yIGEgdnVsbmVyYWJpbGl0eScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRyYWN0LnZ1bG5lcmFiaWxpdHlFeGlzdHMoY3R4LCAnMDAxJykuc2hvdWxkLmV2ZW50dWFsbHkuYmUudHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgZm9yIGEgdnVsbmVyYWJpbGl0eSB0aGF0IGRvZXMgbm90IGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgY29udHJhY3QudnVsbmVyYWJpbGl0eUV4aXN0cyhjdHgsICcwMDMnKS5zaG91bGQuZXZlbnR1YWxseS5iZS5mYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnI2NyZWF0ZVZ1bG5lcmFiaWxpdHknLCAoKSA9PiB7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciBmb3IgYSB2dWxuZXJhYmlsaXR5IGRldGFpbHMgdGhhdCBhbHJlYWR5IGV4aXN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRyYWN0LmNyZWF0ZVZ1bG5lcmFiaWxpdHkoY3R4LCAnMDAxJykuc2hvdWxkLmJlLnJlamVjdGVkV2l0aCgvVGhlIGFzc2V0IHZ1bG5lcmFiaWxpdHkgZGV0YWlscyAwMDEgYWxyZWFkeSBleGlzdHMvKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciBpZiB0cmFuc2llbnQgZGF0YSBpcyBub3QgcHJvdmlkZWQgd2hlbiBjcmVhdGluZyBhIHZ1bG5lcmFiaWxpdHkgZGV0YWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zaWVudE1hcDogTWFwPHN0cmluZywgQnVmZmVyPiA9IG5ldyBNYXA8c3RyaW5nLCBCdWZmZXI+KCk7XG4gICAgICAgICAgICBjdHguc3R1Yi5nZXRUcmFuc2llbnQucmV0dXJucyh0cmFuc2llbnRNYXApO1xuICAgICAgICAgICAgYXdhaXQgY29udHJhY3QuY3JlYXRlVnVsbmVyYWJpbGl0eShjdHgsICcwMDInKS5zaG91bGQuYmUucmVqZWN0ZWRXaXRoKCdUaGUga2V5cyB3ZXJlIG5vdCBzcGVjaWZpZWQgaW4gdHJhbnNpZW50IGRhdGEuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3IgaWYgdHJhbnNpZW50IGRhdGEga2V5IGlzIG5vdCB2dWxuZXJhYmlsaXR5IGRldGFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2llbnRNYXA6IE1hcDxzdHJpbmcsIEJ1ZmZlcj4gPSBuZXcgTWFwPHN0cmluZywgQnVmZmVyPigpO1xuICAgICAgICAgICAgdHJhbnNpZW50TWFwLnNldCgndmVuZElEJywgQnVmZmVyLmZyb20oJzEyNScpKTsvLyBhZGQgYWxsIHRoZSB2dWwgZGV0YWlsc1xuICAgICAgICAgICAgY3R4LnN0dWIuZ2V0VHJhbnNpZW50LnJldHVybnModHJhbnNpZW50TWFwKTtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRyYWN0LmNyZWF0ZVZ1bG5lcmFiaWxpdHkoY3R4LCcwMDInKS5zaG91bGQuYmUucmVqZWN0ZWRXaXRoKGBUaGUgdmVuZG9ySUQga2V5IHdhcyBub3Qgc3BlY2lmaWVkIGluIHRyYW5zaWVudCBkYXRhLiBQbGVhc2UgdHJ5IGFnYWluLmApO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGNyZWF0ZSBhIHZ1bG5lcmFiaWxpdHkgZGV0YWlscyBpZiB0cmFuc2llbnQgZGF0YSBrZXlzIGFyZSBwcm92aWRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zaWVudE1hcDogTWFwPHN0cmluZywgQnVmZmVyPiA9IG5ldyBNYXA8c3RyaW5nLCBCdWZmZXI+KCk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCd2ZW5kb3JJRCcsIEJ1ZmZlci5mcm9tKCcxNTAwJykpO1xuICAgICAgICAgICAgdHJhbnNpZW50TWFwLnNldCgndmVuZG9yTmFtZScsIEJ1ZmZlci5mcm9tKCdTb255JykpO1xuICAgICAgICAgICAgdHJhbnNpZW50TWFwLnNldCgncHJvZHVjdE5hbWUnLCBCdWZmZXIuZnJvbSgnTG9VMicpKTtcbiAgICAgICAgICAgIHRyYW5zaWVudE1hcC5zZXQoJ3Z1bG5lcmFiaWxpdHlUeXBlJywgQnVmZmVyLmZyb20oJ1dlYWsgU3RvcnknKSk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCd2dWxuZXJhYmlsaXR5U2V2ZXJpdHknLCBCdWZmZXIuZnJvbSgnTWVoJykpO1xuICAgICAgICAgICAgdHJhbnNpZW50TWFwLnNldCgnZ3JhY2VQZXJpb2QnLCBCdWZmZXIuZnJvbSgnMCBkYXlzJykpO1xuICAgICAgICAgICAgdHJhbnNpZW50TWFwLnNldCgnYm91bnR5QW1vdW50JywgQnVmZmVyLmZyb20oJyQwJykpO1xuICAgICAgICAgICAgY3R4LnN0dWIuZ2V0VHJhbnNpZW50LnJldHVybnModHJhbnNpZW50TWFwKTtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRyYWN0LmNyZWF0ZVZ1bG5lcmFiaWxpdHkoY3R4LCAnMDAyJyk7XG4gICAgICAgICAgICBjb25zdCBuZXdMb2NhbCA9ICd7XCJ2ZW5kb3JJRFwiOlwiMTUwMFwiLCBcInZlbmRvck5hbWVcIjpcIlNvbnlcIiwgXCJwcm9kdWN0TmFtZVwiOlwiTG9VMlwiLCBcInZ1bG5lcmFiaWxpdHlUeXBlXCI6XCJXZWFrIFN0b3J5XCIsIFwidnVsbmVyYWJpbGl0eVNldmVyaXR5XCI6XCJNZWhcIiwgXCJncmFjZVBlcmlvZFwiOlwiMCBkYXlzXCIsIFwiYm91bnR5QW1vdW50XCI6XCIkMFwifSc7XG4gICAgICAgICAgICAvLyBjdHguc3R1Yi5wdXRQcml2YXRlRGF0YS5zaG91bGQuaGF2ZS5iZWVuLmNhbGxlZE9uY2VXaXRoRXhhY3RseShteUNvbGxlY3Rpb25OYW1lLCAnMDAyJywgQnVmZmVyLmZyb20oJ3tcInByaXZhdGVWYWx1ZVwiOlwiMTUwMFwifScpKTtcbiAgICAgICAgICAgIGN0eC5zdHViLnB1dFByaXZhdGVEYXRhLnNob3VsZC5oYXZlLmJlZW4uY2FsbGVkT25jZVdpdGhFeGFjdGx5KG15Q29sbGVjdGlvbk5hbWUsICcwMDInLCBCdWZmZXIuZnJvbShuZXdMb2NhbCkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCcjcmVhZFByaXZhdGVWdWxuZXJhYmlsaXR5JywgKCkgPT4ge1xuXG4gICAgICAgIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3IgZm9yIGEgdnVsbmVyYWJpbGl0eSB0aGF0IGRvZXMgbm90IGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgY29udHJhY3QucmVhZFZ1bG5lcmFiaWxpdHkoY3R4LCAnMDAzJykuc2hvdWxkLmJlLnJlamVjdGVkV2l0aCgvVGhlIGFzc2V0IHZ1bG5lcmFiaWxpdHkgMDAzIGRvZXMgbm90IGV4aXN0Lyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgdnVsbmVyYWJpbGl0eScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRyYWN0LnJlYWRWdWxuZXJhYmlsaXR5KGN0eCwgJzAwMicpLnNob3VsZC5ldmVudHVhbGx5LmRlZXAuZXF1YWwoJ3tcInZlbmRvcklEXCI6XCIxNTAwXCIsIFwidmVuZG9yTmFtZVwiOlwiU29ueVwiLCBcInByb2R1Y3ROYW1lXCI6XCJMb1UyXCIsIFwidnVsbmVyYWJpbGl0eVR5cGVcIjpcIldlYWsgU3RvcnlcIiwgXCJ2dWxuZXJhYmlsaXR5U2V2ZXJpdHlcIjpcIk1laFwiLCBcImdyYWNlUGVyaW9kXCI6XCIwIGRheXNcIiwgXCJib3VudHlBbW91bnRcIjpcIiQwXCJ9Jyk7XG4gICAgICAgICAgICBjdHguc3R1Yi5nZXRQcml2YXRlRGF0YS5zaG91bGQuaGF2ZS5iZWVuLmNhbGxlZFdpdGhFeGFjdGx5KG15Q29sbGVjdGlvbk5hbWUsICcwMDInKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnI3VwZGF0ZVZ1bG5lcmFiaWxpdHknLCAoKSA9PiB7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciBmb3IgYSB2dWxuZXJhYmlsaXR5IHRoYXQgZG9lcyBub3QgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBjb250cmFjdC51cGRhdGVWdWxuZXJhYmlsaXR5KGN0eCwgJzAwMycpLnNob3VsZC5iZS5yZWplY3RlZFdpdGgoL1RoZSBhc3NldCB2dWxuZXJhYmlsaXR5IDAwMyBkb2VzIG5vdCBleGlzdC8pO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgbXkgcHJpdmF0ZSBhc3NldCBpZiB2dWxuZXJhYmlsaXR5IGV4aXN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zaWVudE1hcDogTWFwPHN0cmluZywgQnVmZmVyPiA9IG5ldyBNYXA8c3RyaW5nLCBCdWZmZXI+KCk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCd2ZW5kb3JJRCcsIEJ1ZmZlci5mcm9tKCcxODknKSk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCd2ZW5kb3JOYW1lJywgQnVmZmVyLmZyb20oJ1NvbnknKSk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCdwcm9kdWN0TmFtZScsIEJ1ZmZlci5mcm9tKCdQUzUnKSk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCd2dWxuZXJiaWxpdHlUeXBlJywgQnVmZmVyLmZyb20oJ1NKVyBBZ2VuZGEnKSk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCd2dWxuZXJhYmlsaXR5U2V2ZXJpdHknLCBCdWZmZXIuZnJvbSgnUDE5MjgxOScpKTtcbiAgICAgICAgICAgIHRyYW5zaWVudE1hcC5zZXQoJ2dyYWNlUGVyaW9kJywgQnVmZmVyLmZyb20oJzg5IGRheXMnKSk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCdib3VudHlBbW91bnQnLCBCdWZmZXIuZnJvbSgnJDEyNjcxMjYnKSk7XG4gICAgICAgICAgICBjdHguc3R1Yi5nZXRUcmFuc2llbnQucmV0dXJucyh0cmFuc2llbnRNYXApO1xuICAgICAgICAgICAgYXdhaXQgY29udHJhY3QudXBkYXRlVnVsbmVyYWJpbGl0eShjdHgsICcwMDEnKTtcbiAgICAgICAgICAgIGN0eC5zdHViLnB1dFByaXZhdGVEYXRhLnNob3VsZC5oYXZlLmJlZW4uY2FsbGVkT25jZVdpdGhFeGFjdGx5KG15Q29sbGVjdGlvbk5hbWUsICcwMDInLCAne1widmVuZG9ySURcIjpcIjE1MDBcIiwgXCJ2ZW5kb3JOYW1lXCI6XCJTb255XCIsIFwicHJvZHVjdE5hbWVcIjpcIkxvVTJcIiwgXCJ2dWxuZXJhYmlsaXR5VHlwZVwiOlwiU0pXIEFnZW5kYVwiLCBcInZ1bG5lcmFiaWxpdHlTZXZlcml0eVwiOlwiTWVoXCIsIFwiZ3JhY2VQZXJpb2RcIjpcIjAgZGF5c1wiLCBcImJvdW50eUFtb3VudFwiOlwiJDBcIn0nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciBpZiB0cmFuc2llbnQgZGF0YSBpcyBub3QgcHJvdmlkZWQgd2hlbiB1cGRhdGluZyBhIHZ1bG5lcmFiaWxpdHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2llbnRNYXA6IE1hcDxzdHJpbmcsIEJ1ZmZlcj4gPSBuZXcgTWFwPHN0cmluZywgQnVmZmVyPigpO1xuICAgICAgICAgICAgY3R4LnN0dWIuZ2V0VHJhbnNpZW50LnJldHVybnModHJhbnNpZW50TWFwKTtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRyYWN0LnVwZGF0ZVZ1bG5lcmFiaWxpdHkoY3R4LCAnMDAxJywgXCJOb3QgUGF0Y2hlZFwiKS5zaG91bGQuYmUucmVqZWN0ZWRXaXRoKGBUaGUgcHJpdmF0ZVZhbHVlIGtleSB3YXMgbm90IHNwZWNpZmllZCBpbiB0cmFuc2llbnQgZGF0YS4gUGxlYXNlIHRyeSBhZ2Fpbi5gKTtcbiAgICAgICAgfSk7Ki9cblxuICAgICAgICAvKiBpdCgnc2hvdWxkIHRocm93IGFuIGVycm9yIGlmIHRyYW5zaWVudCBkYXRhIGtleSBpcyBub3QgcHJpdmF0ZVZhbHVlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNpZW50TWFwOiBNYXA8c3RyaW5nLCBCdWZmZXI+ID0gbmV3IE1hcDxzdHJpbmcsIEJ1ZmZlcj4oKTtcbiAgICAgICAgICAgIHRyYW5zaWVudE1hcC5zZXQoJ3ByVmFsJywgQnVmZmVyLmZyb20oJzEyNScpKTtcbiAgICAgICAgICAgIGN0eC5zdHViLmdldFRyYW5zaWVudC5yZXR1cm5zKHRyYW5zaWVudE1hcCk7XG4gICAgICAgICAgICBhd2FpdCBjb250cmFjdC51cGRhdGVWdWxuZXJhYmlsaXR5KGN0eCwgJzAwMScpLnNob3VsZC5iZS5yZWplY3RlZFdpdGgoYFRoZSBwcml2YXRlVmFsdWUga2V5IHdhcyBub3Qgc3BlY2lmaWVkIGluIHRyYW5zaWVudCBkYXRhLiBQbGVhc2UgdHJ5IGFnYWluLmApO1xuICAgICAgICB9KTsqL1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJyNkZWxldGVWdWxuZXJhYmlsaXR5JywgKCkgPT4ge1xuXG4gICAgICAgIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3IgZm9yIGEgdnVsbmVyYWJpbGl0eSB0aGF0IGRvZXMgbm90IGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgY29udHJhY3QuZGVsZXRlVnVsbmVyYWJpbGl0eShjdHgsICcwMDMnKS5zaG91bGQuYmUucmVqZWN0ZWRXaXRoKC9UaGUgYXNzZXQgdnVsbmVyYWJpbGl0eSAwMDMgZG9lcyBub3QgZXhpc3QvKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBkZWxldGUgYSB2dWxuZXJhYmlsaXR5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgY29udHJhY3QuZGVsZXRlVnVsbmVyYWJpbGl0eShjdHgsICcwMDEnKTtcbiAgICAgICAgICAgIGN0eC5zdHViLmRlbGV0ZVByaXZhdGVEYXRhLnNob3VsZC5oYXZlLmJlZW4uY2FsbGVkT25jZVdpdGhFeGFjdGx5KG15Q29sbGVjdGlvbk5hbWUsICcwMDEnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnI3ZlcmlmeVZ1bG5lcmFiaWxpdHknLCAoKSA9PiB7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBpZiBoYXNoIGNhbGN1bGF0ZWQgZnJvbSBvYmplY3QgcHJvdmlkZWQgbWF0Y2hlcyB0aGUgaGFzaCBvZiB0aGUgcHJpdmF0ZSBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJpdmF0ZU9iajogc3RyaW5nID0gJ3tcInByaXZhdGVWYWx1ZVwiOlwiMTI1XCJ9JztcbiAgICAgICAgICAgIGNvbnN0IGhhc2hUb1ZlcmlmeTogc3RyaW5nID0gY3J5cHRvLmNyZWF0ZUhhc2goJ3NoYTI1NicpLnVwZGF0ZShwcml2YXRlT2JqKS5kaWdlc3QoJ2hleCcpO1xuICAgICAgICAgICAgY3R4LnN0dWIuZ2V0UHJpdmF0ZURhdGFIYXNoLndpdGhBcmdzKG15Q29sbGVjdGlvbk5hbWUsICcwMDInKS5yZXNvbHZlcyhCdWZmZXIuZnJvbShoYXNoVG9WZXJpZnksICdoZXgnKSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IGJvb2xlYW4gPSBhd2FpdCBjb250cmFjdC52ZXJpZnlWdWxuZXJhYmlsaXR5KGN0eCwgJzAwMicsIHt2ZW5kb3JJRDonMTUwMCcsIHZlbmRvck5hbWU6J1NvbnknLCBwcm9kdWN0TmFtZTonTG9VMicsIHZ1bG5lcmFiaWxpdHlUeXBlOidTSlcgQWdlbmRhJywgdnVsbmVyYWJpbGl0eVNldmVyaXR5OidNZWgnLCBncmFjZVBlcmlvZDonMCBkYXlzJywgYm91bnR5QW1vdW50OickMCd9KTtcbiAgICAgICAgICAgIHJlc3VsdC5zaG91bGQuZXF1YWwodHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlIGlmIGhhc2ggY2FsY3VsYXRlZCBmcm9tIG9iamVjdCBwcm92aWRlZCBkb2VzIG5vdCBtYXRjaCB0aGUgaGFzaCBvZiB0aGUgcHJpdmF0ZSBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY3R4LnN0dWIuZ2V0UHJpdmF0ZURhdGFIYXNoLndpdGhBcmdzKG15Q29sbGVjdGlvbk5hbWUsICcwMDInKS5yZXNvbHZlcyhCdWZmZXIuZnJvbSgnc29tZUhhc2gnKSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IGJvb2xlYW4gPSBhd2FpdCBjb250cmFjdC52ZXJpZnlWdWxuZXJhYmlsaXR5KGN0eCwgJzAwMicsIHt2ZW5kb3JJRDonc29tZVZhbHVlJywgdmVuZG9yTmFtZTonU29ueScsIHByb2R1Y3ROYW1lOidMb1UyJywgdnVsbmVyYWJpbGl0eVR5cGU6J1dlYWsgU3RvcnknLCB2dWxuZXJhYmlsaXR5U2V2ZXJpdHk6J01laCcsIGdyYWNlUGVyaW9kOicwIGRheXMnLCBib3VudHlBbW91bnQ6JyQwJ30pO1xuICAgICAgICAgICAgcmVzdWx0LnNob3VsZC5lcXVhbChmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIHRocm93IGFuIGVycm9yIHdoZW4gdXNlciB0cmllcyB0byB2ZXJpZnkgYW4gYXNzZXQgdGhhdCBkb2VzbnQgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjdHguc3R1Yi5nZXRQcml2YXRlRGF0YUhhc2gud2l0aEFyZ3MobXlDb2xsZWN0aW9uTmFtZSwgJzAwNScpLnJlc29sdmVzKEJ1ZmZlci5mcm9tKCcnKSk7XG4gICAgICAgICAgICBhd2FpdCBjb250cmFjdC52ZXJpZnlWdWxuZXJhYmlsaXR5KGN0eCwgJzAwNScsIHt2ZW5kb3JJRDonc29tZVZhbHVlJywgdmVuZG9yTmFtZTonU29ueScsIHByb2R1Y3ROYW1lOidMb1UyJywgdnVsbmVyYWJpbGl0eVR5cGU6J1dlYWsgU3RvcnknLCB2dWxuZXJhYmlsaXR5U2V2ZXJpdHk6J01laCcsIGdyYWNlUGVyaW9kOicwIGRheXMnLCBib3VudHlBbW91bnQ6JyQwJ30pLnNob3VsZC5iZS5yZWplY3RlZFdpdGgoJ05vIHByaXZhdGUgZGF0YSBoYXNoIHdpdGggdGhlIEtleTogMDA1Jyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3ByYXRlZXRpL1NPRklFLXByaXZhdGUtbGVkZ2VyL3Z1bG5lcmFiaWxpdHktcHJpdmF0ZS1kYXRhLWNvbGxlY3Rpb25zL3NyYy92dWxuZXJhYmlsaXR5LWNvbnRyYWN0LnNwZWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6ImFBQUE7O3c0MkJBTUEsS0FBQSxDQUFBLGFBQUEsMEJBQUEsT0FBQSxDQUFBLGFBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLEVBQUEsMEJBQUEsT0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLENBRUEsS0FBQSxDQUFBLElBQUEsMEJBQUEsT0FBQSxDQUFBLE1BQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLGNBQUEsMEJBQUEsT0FBQSxDQUFBLGtCQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxNQUFBLDBCQUFBLE9BQUEsQ0FBQSxRQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxLQUFBLDBCQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxTQUFBLDBCQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxPQUFBLDBCQUFBLE9BQUEsQ0FBQSxTQUFBLENBQUEsQ0FBQSxDLHdCQUVBLElBQUksQ0FBQyxNQUFMLEcseUJBQ0EsSUFBSSxDQUFDLEdBQUwsQ0FBUyxjQUFULEUseUJBQ0EsSUFBSSxDQUFDLEdBQUwsQ0FBUyxTQUFULEVBRUEsS0FBTSxDQUFBLFdBQVcsQ0FBakIsV0FBQSxFQUFBLGtEQUNXLEtBQUEsSUFBQSxDQUFrRCxLQUFLLENBQUMsa0JBQU4sQ0FBeUIsYUFBQSxDQUFBLGFBQXpCLENBQWxELENBRFgseUJBRVcsS0FBQSxjQUFBLENBQTZELEtBQUssQ0FBQyxrQkFBTixDQUF5QixhQUFBLENBQUEsY0FBekIsQ0FBN0QsQ0FGWCx5QkFHVyxLQUFBLE9BQUEsQ0FBVSxDQUNiLFNBQVMsQ0FBRSxLQUFLLENBQUMsSUFBTixHQUFhLE9BQWIsQ0FBcUIsS0FBSyxDQUFDLGtCQUFOLENBQXlCLE9BQU8sQ0FBQyxZQUFSLEdBQXVCLFdBQWhELENBQXJCLENBREUsQ0FFYixRQUFRLENBQUUsS0FBSyxDQUFDLElBQU4sRUFGRyxDQUFWLENBSVYsQ0FQZ0IsQyx5QkFTakIsUUFBUSxDQUFDLHVCQUFELENBQTBCLElBQUsseUJBRW5DLEdBQUksQ0FBQSxRQUFKLENBQ0EsR0FBSSxDQUFBLEdBQUosQ0FDQSxLQUFNLENBQUEsZ0JBQWdCLDJCQUFXLGVBQVgsQ0FBdEIsQ0FKbUMseUJBTW5DLFVBQVUsQ0FBQyxJQUFLLGtEQUNaLFFBQVEsQ0FBRyxHQUFJLENBQUEsRUFBQSxDQUFBLHFCQUFKLEVBQVgsQ0FEWSx5QkFFWixHQUFHLENBQUcsR0FBSSxDQUFBLFdBQUosRUFBTixDQUZZLHlCQUdaLEdBQUcsQ0FBQyxJQUFKLENBQVMsY0FBVCxDQUF3QixRQUF4QixDQUFpQyxnQkFBakMsQ0FBbUQsS0FBbkQsRUFBMEQsUUFBMUQsQ0FBbUUsTUFBTSxDQUFDLElBQVAsQ0FBWSx1QkFBWixDQUFuRSxFQUNBLEtBQU0sQ0FBQSxZQUFZLDJCQUFHLE1BQU0sQ0FBQyxVQUFQLENBQWtCLFFBQWxCLEVBQTRCLE1BQTVCLENBQW1DLHdCQUFuQyxFQUE2RCxNQUE3RCxDQUFvRSxLQUFwRSxDQUFILENBQWxCLENBSlkseUJBS1osR0FBRyxDQUFDLElBQUosQ0FBUyxrQkFBVCxDQUE0QixRQUE1QixDQUFxQyxnQkFBckMsQ0FBdUQsS0FBdkQsRUFBOEQsUUFBOUQsQ0FBdUUsTUFBTSxDQUFDLElBQVAsQ0FBWSxZQUFaLENBQTBCLEtBQTFCLENBQXZFLEVBQ0gsQ0FOUyxDQUFWLENBTm1DLHlCQWNuQyxRQUFRLENBQUMsc0JBQUQsQ0FBeUIsSUFBSyxrREFFbEMsRUFBRSxDQUFDLHdDQUFELENBQTJDLFNBQVcsa0RBQ3BELEtBQU0sQ0FBQSxRQUFRLENBQUMsbUJBQVQsQ0FBNkIsR0FBN0IsQ0FBa0MsS0FBbEMsRUFBeUMsTUFBekMsQ0FBZ0QsVUFBaEQsQ0FBMkQsRUFBM0QsQ0FBOEQsSUFBcEUsQ0FDSCxDQUZDLENBQUYsQ0FGa0MseUJBTWxDLEVBQUUsQ0FBQyw2REFBRCxDQUFnRSxTQUFXLGtEQUN6RSxLQUFNLENBQUEsUUFBUSxDQUFDLG1CQUFULENBQTZCLEdBQTdCLENBQWtDLEtBQWxDLEVBQXlDLE1BQXpDLENBQWdELFVBQWhELENBQTJELEVBQTNELENBQThELEtBQXBFLENBQ0gsQ0FGQyxDQUFGLENBR0gsQ0FUTyxDQUFSLENBZG1DLHlCQXlCbkMsUUFBUSxDQUFDLHNCQUFELENBQXlCLElBQUssa0RBRWxDLEVBQUUsQ0FBQyx1RUFBRCxDQUEwRSxTQUFXLGtEQUNuRixLQUFNLENBQUEsUUFBUSxDQUFDLG1CQUFULENBQTZCLEdBQTdCLENBQWtDLEtBQWxDLEVBQXlDLE1BQXpDLENBQWdELEVBQWhELENBQW1ELFlBQW5ELENBQWdFLG9EQUFoRSxDQUFOLENBQ0gsQ0FGQyxDQUFGLENBRmtDLHlCQU1sQyxFQUFFLENBQUMsK0ZBQUQsQ0FBa0csU0FBVyx5QkFDM0csS0FBTSxDQUFBLFlBQVksMkJBQXdCLEdBQUksQ0FBQSxHQUFKLEVBQXhCLENBQWxCLENBRDJHLHlCQUUzRyxHQUFHLENBQUMsSUFBSixDQUFTLFlBQVQsQ0FBc0IsT0FBdEIsQ0FBOEIsWUFBOUIsRUFGMkcseUJBRzNHLEtBQU0sQ0FBQSxRQUFRLENBQUMsbUJBQVQsQ0FBNkIsR0FBN0IsQ0FBa0MsS0FBbEMsRUFBeUMsTUFBekMsQ0FBZ0QsRUFBaEQsQ0FBbUQsWUFBbkQsQ0FBZ0Usa0VBQWhFLENBQU4sQ0FDSCxDQUpDLENBQUYsQ0FOa0MseUJBWWxDLEVBQUUsQ0FBQywwRUFBRCxDQUE2RSxTQUFXLHlCQUN0RixLQUFNLENBQUEsWUFBWSwyQkFBd0IsR0FBSSxDQUFBLEdBQUosRUFBeEIsQ0FBbEIsQ0FEc0YseUJBRXRGLFlBQVksQ0FBQyxHQUFiLENBQWlCLFFBQWpCLENBQTJCLE1BQU0sQ0FBQyxJQUFQLENBQVksS0FBWixDQUEzQixFQUErQztBQUZ1Qyx5QkFHdEYsR0FBRyxDQUFDLElBQUosQ0FBUyxZQUFULENBQXNCLE9BQXRCLENBQThCLFlBQTlCLEVBSHNGLHlCQUl0RixLQUFNLENBQUEsUUFBUSxDQUFDLG1CQUFULENBQTZCLEdBQTdCLENBQWlDLEtBQWpDLEVBQXdDLE1BQXhDLENBQStDLEVBQS9DLENBQWtELFlBQWxELENBQStELHlFQUEvRCxDQUFOLENBQ0gsQ0FMQyxDQUFGLENBWmtDLHlCQW1CbEMsRUFBRSxDQUFDLDJFQUFELENBQThFLFNBQVcsMEJBQ3ZGLEtBQU0sQ0FBQSxZQUFZLDJCQUF3QixHQUFJLENBQUEsR0FBSixFQUF4QixDQUFsQixDQUR1Rix5QkFFdkYsWUFBWSxDQUFDLEdBQWIsQ0FBaUIsVUFBakIsQ0FBNkIsTUFBTSxDQUFDLElBQVAsQ0FBWSxNQUFaLENBQTdCLEVBRnVGLHlCQUd2RixZQUFZLENBQUMsR0FBYixDQUFpQixZQUFqQixDQUErQixNQUFNLENBQUMsSUFBUCxDQUFZLE1BQVosQ0FBL0IsRUFIdUYseUJBSXZGLFlBQVksQ0FBQyxHQUFiLENBQWlCLGFBQWpCLENBQWdDLE1BQU0sQ0FBQyxJQUFQLENBQVksTUFBWixDQUFoQyxFQUp1Rix5QkFLdkYsWUFBWSxDQUFDLEdBQWIsQ0FBaUIsbUJBQWpCLENBQXNDLE1BQU0sQ0FBQyxJQUFQLENBQVksWUFBWixDQUF0QyxFQUx1Rix5QkFNdkYsWUFBWSxDQUFDLEdBQWIsQ0FBaUIsdUJBQWpCLENBQTBDLE1BQU0sQ0FBQyxJQUFQLENBQVksS0FBWixDQUExQyxFQU51Rix5QkFPdkYsWUFBWSxDQUFDLEdBQWIsQ0FBaUIsYUFBakIsQ0FBZ0MsTUFBTSxDQUFDLElBQVAsQ0FBWSxRQUFaLENBQWhDLEVBUHVGLHlCQVF2RixZQUFZLENBQUMsR0FBYixDQUFpQixjQUFqQixDQUFpQyxNQUFNLENBQUMsSUFBUCxDQUFZLElBQVosQ0FBakMsRUFSdUYseUJBU3ZGLEdBQUcsQ0FBQyxJQUFKLENBQVMsWUFBVCxDQUFzQixPQUF0QixDQUE4QixZQUE5QixFQVR1Rix5QkFVdkYsS0FBTSxDQUFBLFFBQVEsQ0FBQyxtQkFBVCxDQUE2QixHQUE3QixDQUFrQyxLQUFsQyxDQUFOLENBQ0EsS0FBTSxDQUFBLFFBQVEsMkJBQUcsOEtBQUgsQ0FBZCxDQUNBO0FBWnVGLHlCQWF2RixHQUFHLENBQUMsSUFBSixDQUFTLGNBQVQsQ0FBd0IsTUFBeEIsQ0FBK0IsSUFBL0IsQ0FBb0MsSUFBcEMsQ0FBeUMscUJBQXpDLENBQStELGdCQUEvRCxDQUFpRixLQUFqRixDQUF3RixNQUFNLENBQUMsSUFBUCxDQUFZLFFBQVosQ0FBeEYsRUFDSCxDQWRDLENBQUYsQ0FlSCxDQWxDTyxDQUFSLENBekJtQyx5QkE2RG5DLFFBQVEsQ0FBQywyQkFBRCxDQUE4QixJQUFLLG1EQUV2QyxFQUFFLENBQUMsK0RBQUQsQ0FBa0UsU0FBVyxtREFDM0UsS0FBTSxDQUFBLFFBQVEsQ0FBQyxpQkFBVCxDQUEyQixHQUEzQixDQUFnQyxLQUFoQyxFQUF1QyxNQUF2QyxDQUE4QyxFQUE5QyxDQUFpRCxZQUFqRCxDQUE4RCw0Q0FBOUQsQ0FBTixDQUNILENBRkMsQ0FBRixDQUZ1Qyx5QkFNdkMsRUFBRSxDQUFDLCtCQUFELENBQWtDLFNBQVcsbURBQzNDLEtBQU0sQ0FBQSxRQUFRLENBQUMsaUJBQVQsQ0FBMkIsR0FBM0IsQ0FBZ0MsS0FBaEMsRUFBdUMsTUFBdkMsQ0FBOEMsVUFBOUMsQ0FBeUQsSUFBekQsQ0FBOEQsS0FBOUQsQ0FBb0UsOEtBQXBFLENBQU4sQ0FEMkMseUJBRTNDLEdBQUcsQ0FBQyxJQUFKLENBQVMsY0FBVCxDQUF3QixNQUF4QixDQUErQixJQUEvQixDQUFvQyxJQUFwQyxDQUF5QyxpQkFBekMsQ0FBMkQsZ0JBQTNELENBQTZFLEtBQTdFLEVBQ0gsQ0FIQyxDQUFGLENBSUgsQ0FWTyxDQUFSLENBN0RtQyx5QkF5RW5DLFFBQVEsQ0FBQyxzQkFBRCxDQUF5QixJQUFLLG1EQUVsQyxFQUFFLENBQUMsK0RBQUQsQ0FBa0UsU0FBVyxtREFDM0UsS0FBTSxDQUFBLFFBQVEsQ0FBQyxtQkFBVCxDQUE2QixHQUE3QixDQUFrQyxLQUFsQyxFQUF5QyxNQUF6QyxDQUFnRCxFQUFoRCxDQUFtRCxZQUFuRCxDQUFnRSw0Q0FBaEUsQ0FBTixDQUNILENBRkMsQ0FBRixDQUZrQyx5QkFLbEMsRUFBRSxDQUFDLHdEQUFELENBQTJELFNBQVcsMEJBQ3BFLEtBQU0sQ0FBQSxZQUFZLDJCQUF3QixHQUFJLENBQUEsR0FBSixFQUF4QixDQUFsQixDQURvRSx5QkFFcEUsWUFBWSxDQUFDLEdBQWIsQ0FBaUIsVUFBakIsQ0FBNkIsTUFBTSxDQUFDLElBQVAsQ0FBWSxLQUFaLENBQTdCLEVBRm9FLHlCQUdwRSxZQUFZLENBQUMsR0FBYixDQUFpQixZQUFqQixDQUErQixNQUFNLENBQUMsSUFBUCxDQUFZLE1BQVosQ0FBL0IsRUFIb0UseUJBSXBFLFlBQVksQ0FBQyxHQUFiLENBQWlCLGFBQWpCLENBQWdDLE1BQU0sQ0FBQyxJQUFQLENBQVksS0FBWixDQUFoQyxFQUpvRSx5QkFLcEUsWUFBWSxDQUFDLEdBQWIsQ0FBaUIsa0JBQWpCLENBQXFDLE1BQU0sQ0FBQyxJQUFQLENBQVksWUFBWixDQUFyQyxFQUxvRSx5QkFNcEUsWUFBWSxDQUFDLEdBQWIsQ0FBaUIsdUJBQWpCLENBQTBDLE1BQU0sQ0FBQyxJQUFQLENBQVksU0FBWixDQUExQyxFQU5vRSx5QkFPcEUsWUFBWSxDQUFDLEdBQWIsQ0FBaUIsYUFBakIsQ0FBZ0MsTUFBTSxDQUFDLElBQVAsQ0FBWSxTQUFaLENBQWhDLEVBUG9FLHlCQVFwRSxZQUFZLENBQUMsR0FBYixDQUFpQixjQUFqQixDQUFpQyxNQUFNLENBQUMsSUFBUCxDQUFZLFVBQVosQ0FBakMsRUFSb0UseUJBU3BFLEdBQUcsQ0FBQyxJQUFKLENBQVMsWUFBVCxDQUFzQixPQUF0QixDQUE4QixZQUE5QixFQVRvRSx5QkFVcEUsS0FBTSxDQUFBLFFBQVEsQ0FBQyxtQkFBVCxDQUE2QixHQUE3QixDQUFrQyxLQUFsQyxDQUFOLENBVm9FLHlCQVdwRSxHQUFHLENBQUMsSUFBSixDQUFTLGNBQVQsQ0FBd0IsTUFBeEIsQ0FBK0IsSUFBL0IsQ0FBb0MsSUFBcEMsQ0FBeUMscUJBQXpDLENBQStELGdCQUEvRCxDQUFpRixLQUFqRixDQUF3Riw4S0FBeEYsRUFDSCxDQVpDLENBQUYsQ0FjQTs7OzthQW5Ca0MsQ0F5QmxDOzs7OzthQU1ILENBL0JPLENBQVIsQ0F6RW1DLHlCQTBHbkMsUUFBUSxDQUFDLHNCQUFELENBQXlCLElBQUssbURBRWxDLEVBQUUsQ0FBQywrREFBRCxDQUFrRSxTQUFXLG1EQUMzRSxLQUFNLENBQUEsUUFBUSxDQUFDLG1CQUFULENBQTZCLEdBQTdCLENBQWtDLEtBQWxDLEVBQXlDLE1BQXpDLENBQWdELEVBQWhELENBQW1ELFlBQW5ELENBQWdFLDRDQUFoRSxDQUFOLENBQ0gsQ0FGQyxDQUFGLENBRmtDLHlCQU1sQyxFQUFFLENBQUMsK0JBQUQsQ0FBa0MsU0FBVyxtREFDM0MsS0FBTSxDQUFBLFFBQVEsQ0FBQyxtQkFBVCxDQUE2QixHQUE3QixDQUFrQyxLQUFsQyxDQUFOLENBRDJDLHlCQUUzQyxHQUFHLENBQUMsSUFBSixDQUFTLGlCQUFULENBQTJCLE1BQTNCLENBQWtDLElBQWxDLENBQXVDLElBQXZDLENBQTRDLHFCQUE1QyxDQUFrRSxnQkFBbEUsQ0FBb0YsS0FBcEYsRUFDSCxDQUhDLENBQUYsQ0FJSCxDQVZPLENBQVIsQ0ExR21DLHlCQXNIbkMsUUFBUSxDQUFDLHNCQUFELENBQXlCLElBQUssbURBRWxDLEVBQUUsQ0FBQyxpR0FBRCxDQUFvRyxTQUFXLDBCQUM3RyxLQUFNLENBQUEsVUFBVSwyQkFBVyx3QkFBWCxDQUFoQixDQUNBLEtBQU0sQ0FBQSxZQUFZLDJCQUFXLE1BQU0sQ0FBQyxVQUFQLENBQWtCLFFBQWxCLEVBQTRCLE1BQTVCLENBQW1DLFVBQW5DLEVBQStDLE1BQS9DLENBQXNELEtBQXRELENBQVgsQ0FBbEIsQ0FGNkcseUJBRzdHLEdBQUcsQ0FBQyxJQUFKLENBQVMsa0JBQVQsQ0FBNEIsUUFBNUIsQ0FBcUMsZ0JBQXJDLENBQXVELEtBQXZELEVBQThELFFBQTlELENBQXVFLE1BQU0sQ0FBQyxJQUFQLENBQVksWUFBWixDQUEwQixLQUExQixDQUF2RSxFQUNBLEtBQU0sQ0FBQSxNQUFNLDJCQUFZLEtBQU0sQ0FBQSxRQUFRLENBQUMsbUJBQVQsQ0FBNkIsR0FBN0IsQ0FBa0MsS0FBbEMsQ0FBeUMsQ0FBQyxRQUFRLENBQUMsTUFBVixDQUFrQixVQUFVLENBQUMsTUFBN0IsQ0FBcUMsV0FBVyxDQUFDLE1BQWpELENBQXlELGlCQUFpQixDQUFDLFlBQTNFLENBQXlGLHFCQUFxQixDQUFDLEtBQS9HLENBQXNILFdBQVcsQ0FBQyxRQUFsSSxDQUE0SSxZQUFZLENBQUMsSUFBekosQ0FBekMsQ0FBbEIsQ0FBWixDQUo2Ryx5QkFLN0csTUFBTSxDQUFDLE1BQVAsQ0FBYyxLQUFkLENBQW9CLElBQXBCLEVBQ0gsQ0FOQyxDQUFGLENBRmtDLHlCQVVsQyxFQUFFLENBQUMseUdBQUQsQ0FBNEcsU0FBVyxtREFDckgsR0FBRyxDQUFDLElBQUosQ0FBUyxrQkFBVCxDQUE0QixRQUE1QixDQUFxQyxnQkFBckMsQ0FBdUQsS0FBdkQsRUFBOEQsUUFBOUQsQ0FBdUUsTUFBTSxDQUFDLElBQVAsQ0FBWSxVQUFaLENBQXZFLEVBQ0EsS0FBTSxDQUFBLE1BQU0sMkJBQVksS0FBTSxDQUFBLFFBQVEsQ0FBQyxtQkFBVCxDQUE2QixHQUE3QixDQUFrQyxLQUFsQyxDQUF5QyxDQUFDLFFBQVEsQ0FBQyxXQUFWLENBQXVCLFVBQVUsQ0FBQyxNQUFsQyxDQUEwQyxXQUFXLENBQUMsTUFBdEQsQ0FBOEQsaUJBQWlCLENBQUMsWUFBaEYsQ0FBOEYscUJBQXFCLENBQUMsS0FBcEgsQ0FBMkgsV0FBVyxDQUFDLFFBQXZJLENBQWlKLFlBQVksQ0FBQyxJQUE5SixDQUF6QyxDQUFsQixDQUFaLENBRnFILHlCQUdySCxNQUFNLENBQUMsTUFBUCxDQUFjLEtBQWQsQ0FBb0IsS0FBcEIsRUFDSCxDQUpDLENBQUYsQ0FWa0MseUJBZWxDLEVBQUUsQ0FBQyw0RUFBRCxDQUErRSxTQUFXLG1EQUN4RixHQUFHLENBQUMsSUFBSixDQUFTLGtCQUFULENBQTRCLFFBQTVCLENBQXFDLGdCQUFyQyxDQUF1RCxLQUF2RCxFQUE4RCxRQUE5RCxDQUF1RSxNQUFNLENBQUMsSUFBUCxDQUFZLEVBQVosQ0FBdkUsRUFEd0YseUJBRXhGLEtBQU0sQ0FBQSxRQUFRLENBQUMsbUJBQVQsQ0FBNkIsR0FBN0IsQ0FBa0MsS0FBbEMsQ0FBeUMsQ0FBQyxRQUFRLENBQUMsV0FBVixDQUF1QixVQUFVLENBQUMsTUFBbEMsQ0FBMEMsV0FBVyxDQUFDLE1BQXRELENBQThELGlCQUFpQixDQUFDLFlBQWhGLENBQThGLHFCQUFxQixDQUFDLEtBQXBILENBQTJILFdBQVcsQ0FBQyxRQUF2SSxDQUFpSixZQUFZLENBQUMsSUFBOUosQ0FBekMsRUFBOE0sTUFBOU0sQ0FBcU4sRUFBck4sQ0FBd04sWUFBeE4sQ0FBcU8sd0NBQXJPLENBQU4sQ0FDSCxDQUhDLENBQUYsQ0FJSCxDQW5CTyxDQUFSLENBb0JILENBMUlPLENBQVIsQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vICB0c2xpbnQ6ZGlzYWJsZTogbm8tdW51c2VkLWV4cHJlc3Npb25cbmltcG9ydCB7IENvbnRleHQgfSBmcm9tICdmYWJyaWMtY29udHJhY3QtYXBpJztcbmltcG9ydCB7IENoYWluY29kZVN0dWIsIENsaWVudElkZW50aXR5IH0gZnJvbSAnZmFicmljLXNoaW0nO1xuaW1wb3J0IHsgVnVsbmVyYWJpbGl0eUNvbnRyYWN0IH0gZnJvbSAnLic7XG5cbmltcG9ydCAqIGFzIGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgKiBhcyBjaGFpQXNQcm9taXNlZCBmcm9tICdjaGFpLWFzLXByb21pc2VkJztcbmltcG9ydCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcbmltcG9ydCAqIGFzIHNpbm9uIGZyb20gJ3Npbm9uJztcbmltcG9ydCAqIGFzIHNpbm9uQ2hhaSBmcm9tICdzaW5vbi1jaGFpJztcbmltcG9ydCB3aW5zdG9uID0gcmVxdWlyZSgnd2luc3RvbicpO1xuXG5jaGFpLnNob3VsZCgpO1xuY2hhaS51c2UoY2hhaUFzUHJvbWlzZWQpO1xuY2hhaS51c2Uoc2lub25DaGFpKTtcblxuY2xhc3MgVGVzdENvbnRleHQgaW1wbGVtZW50cyBDb250ZXh0IHtcbiAgICBwdWJsaWMgc3R1Yjogc2lub24uU2lub25TdHViYmVkSW5zdGFuY2U8Q2hhaW5jb2RlU3R1Yj4gPSBzaW5vbi5jcmVhdGVTdHViSW5zdGFuY2UoQ2hhaW5jb2RlU3R1Yik7XG4gICAgcHVibGljIGNsaWVudElkZW50aXR5OiBzaW5vbi5TaW5vblN0dWJiZWRJbnN0YW5jZTxDbGllbnRJZGVudGl0eT4gPSBzaW5vbi5jcmVhdGVTdHViSW5zdGFuY2UoQ2xpZW50SWRlbnRpdHkpO1xuICAgIHB1YmxpYyBsb2dnaW5nID0ge1xuICAgICAgICBnZXRMb2dnZXI6IHNpbm9uLnN0dWIoKS5yZXR1cm5zKHNpbm9uLmNyZWF0ZVN0dWJJbnN0YW5jZSh3aW5zdG9uLmNyZWF0ZUxvZ2dlcigpLmNvbnN0cnVjdG9yKSksXG4gICAgICAgIHNldExldmVsOiBzaW5vbi5zdHViKCksXG4gICAgfTtcbn1cblxuZGVzY3JpYmUoJ1Z1bG5lcmFiaWxpdHlDb250cmFjdCcsICgpID0+IHtcblxuICAgIGxldCBjb250cmFjdDogVnVsbmVyYWJpbGl0eUNvbnRyYWN0O1xuICAgIGxldCBjdHg6IFRlc3RDb250ZXh0O1xuICAgIGNvbnN0IG15Q29sbGVjdGlvbk5hbWU6IHN0cmluZyA9ICdDb2xsZWN0aW9uT25lJztcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICBjb250cmFjdCA9IG5ldyBWdWxuZXJhYmlsaXR5Q29udHJhY3QoKTtcbiAgICAgICAgY3R4ID0gbmV3IFRlc3RDb250ZXh0KCk7XG4gICAgICAgIGN0eC5zdHViLmdldFByaXZhdGVEYXRhLndpdGhBcmdzKG15Q29sbGVjdGlvbk5hbWUsICcwMDEnKS5yZXNvbHZlcyhCdWZmZXIuZnJvbSgne3ByaXZhdGVWYWx1ZVwiOlwiMTUwXCJ9JykpO1xuICAgICAgICBjb25zdCBoYXNoVG9WZXJpZnkgPSBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMjU2JykudXBkYXRlKCd7XCJwcml2YXRlVmFsdWVcIjpcIjE1MFwifScpLmRpZ2VzdCgnaGV4Jyk7XG4gICAgICAgIGN0eC5zdHViLmdldFByaXZhdGVEYXRhSGFzaC53aXRoQXJncyhteUNvbGxlY3Rpb25OYW1lLCAnMDAxJykucmVzb2x2ZXMoQnVmZmVyLmZyb20oaGFzaFRvVmVyaWZ5LCAnaGV4JykpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJyN2dWxuZXJhYmlsaXR5RXhpc3RzJywgKCkgPT4ge1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgZm9yIGEgdnVsbmVyYWJpbGl0eScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRyYWN0LnZ1bG5lcmFiaWxpdHlFeGlzdHMoY3R4LCAnMDAxJykuc2hvdWxkLmV2ZW50dWFsbHkuYmUudHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgZm9yIGEgdnVsbmVyYWJpbGl0eSB0aGF0IGRvZXMgbm90IGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgY29udHJhY3QudnVsbmVyYWJpbGl0eUV4aXN0cyhjdHgsICcwMDMnKS5zaG91bGQuZXZlbnR1YWxseS5iZS5mYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnI2NyZWF0ZVZ1bG5lcmFiaWxpdHknLCAoKSA9PiB7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciBmb3IgYSB2dWxuZXJhYmlsaXR5IGRldGFpbHMgdGhhdCBhbHJlYWR5IGV4aXN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRyYWN0LmNyZWF0ZVZ1bG5lcmFiaWxpdHkoY3R4LCAnMDAxJykuc2hvdWxkLmJlLnJlamVjdGVkV2l0aCgvVGhlIGFzc2V0IHZ1bG5lcmFiaWxpdHkgZGV0YWlscyAwMDEgYWxyZWFkeSBleGlzdHMvKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciBpZiB0cmFuc2llbnQgZGF0YSBpcyBub3QgcHJvdmlkZWQgd2hlbiBjcmVhdGluZyBhIHZ1bG5lcmFiaWxpdHkgZGV0YWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zaWVudE1hcDogTWFwPHN0cmluZywgQnVmZmVyPiA9IG5ldyBNYXA8c3RyaW5nLCBCdWZmZXI+KCk7XG4gICAgICAgICAgICBjdHguc3R1Yi5nZXRUcmFuc2llbnQucmV0dXJucyh0cmFuc2llbnRNYXApO1xuICAgICAgICAgICAgYXdhaXQgY29udHJhY3QuY3JlYXRlVnVsbmVyYWJpbGl0eShjdHgsICcwMDInKS5zaG91bGQuYmUucmVqZWN0ZWRXaXRoKCdUaGUga2V5cyB3ZXJlIG5vdCBzcGVjaWZpZWQgaW4gdHJhbnNpZW50IGRhdGEuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3IgaWYgdHJhbnNpZW50IGRhdGEga2V5IGlzIG5vdCB2dWxuZXJhYmlsaXR5IGRldGFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2llbnRNYXA6IE1hcDxzdHJpbmcsIEJ1ZmZlcj4gPSBuZXcgTWFwPHN0cmluZywgQnVmZmVyPigpO1xuICAgICAgICAgICAgdHJhbnNpZW50TWFwLnNldCgndmVuZElEJywgQnVmZmVyLmZyb20oJzEyNScpKTsvLyBhZGQgYWxsIHRoZSB2dWwgZGV0YWlsc1xuICAgICAgICAgICAgY3R4LnN0dWIuZ2V0VHJhbnNpZW50LnJldHVybnModHJhbnNpZW50TWFwKTtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRyYWN0LmNyZWF0ZVZ1bG5lcmFiaWxpdHkoY3R4LCcwMDInKS5zaG91bGQuYmUucmVqZWN0ZWRXaXRoKGBUaGUgdmVuZG9ySUQga2V5IHdhcyBub3Qgc3BlY2lmaWVkIGluIHRyYW5zaWVudCBkYXRhLiBQbGVhc2UgdHJ5IGFnYWluLmApO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGNyZWF0ZSBhIHZ1bG5lcmFiaWxpdHkgZGV0YWlscyBpZiB0cmFuc2llbnQgZGF0YSBrZXlzIGFyZSBwcm92aWRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zaWVudE1hcDogTWFwPHN0cmluZywgQnVmZmVyPiA9IG5ldyBNYXA8c3RyaW5nLCBCdWZmZXI+KCk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCd2ZW5kb3JJRCcsIEJ1ZmZlci5mcm9tKCcxNTAwJykpO1xuICAgICAgICAgICAgdHJhbnNpZW50TWFwLnNldCgndmVuZG9yTmFtZScsIEJ1ZmZlci5mcm9tKCdTb255JykpO1xuICAgICAgICAgICAgdHJhbnNpZW50TWFwLnNldCgncHJvZHVjdE5hbWUnLCBCdWZmZXIuZnJvbSgnTG9VMicpKTtcbiAgICAgICAgICAgIHRyYW5zaWVudE1hcC5zZXQoJ3Z1bG5lcmFiaWxpdHlUeXBlJywgQnVmZmVyLmZyb20oJ1dlYWsgU3RvcnknKSk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCd2dWxuZXJhYmlsaXR5U2V2ZXJpdHknLCBCdWZmZXIuZnJvbSgnTWVoJykpO1xuICAgICAgICAgICAgdHJhbnNpZW50TWFwLnNldCgnZ3JhY2VQZXJpb2QnLCBCdWZmZXIuZnJvbSgnMCBkYXlzJykpO1xuICAgICAgICAgICAgdHJhbnNpZW50TWFwLnNldCgnYm91bnR5QW1vdW50JywgQnVmZmVyLmZyb20oJyQwJykpO1xuICAgICAgICAgICAgY3R4LnN0dWIuZ2V0VHJhbnNpZW50LnJldHVybnModHJhbnNpZW50TWFwKTtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRyYWN0LmNyZWF0ZVZ1bG5lcmFiaWxpdHkoY3R4LCAnMDAyJyk7XG4gICAgICAgICAgICBjb25zdCBuZXdMb2NhbCA9ICd7XCJ2ZW5kb3JJRFwiOlwiMTUwMFwiLCBcInZlbmRvck5hbWVcIjpcIlNvbnlcIiwgXCJwcm9kdWN0TmFtZVwiOlwiTG9VMlwiLCBcInZ1bG5lcmFiaWxpdHlUeXBlXCI6XCJXZWFrIFN0b3J5XCIsIFwidnVsbmVyYWJpbGl0eVNldmVyaXR5XCI6XCJNZWhcIiwgXCJncmFjZVBlcmlvZFwiOlwiMCBkYXlzXCIsIFwiYm91bnR5QW1vdW50XCI6XCIkMFwifSc7XG4gICAgICAgICAgICAvLyBjdHguc3R1Yi5wdXRQcml2YXRlRGF0YS5zaG91bGQuaGF2ZS5iZWVuLmNhbGxlZE9uY2VXaXRoRXhhY3RseShteUNvbGxlY3Rpb25OYW1lLCAnMDAyJywgQnVmZmVyLmZyb20oJ3tcInByaXZhdGVWYWx1ZVwiOlwiMTUwMFwifScpKTtcbiAgICAgICAgICAgIGN0eC5zdHViLnB1dFByaXZhdGVEYXRhLnNob3VsZC5oYXZlLmJlZW4uY2FsbGVkT25jZVdpdGhFeGFjdGx5KG15Q29sbGVjdGlvbk5hbWUsICcwMDInLCBCdWZmZXIuZnJvbShuZXdMb2NhbCkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCcjcmVhZFByaXZhdGVWdWxuZXJhYmlsaXR5JywgKCkgPT4ge1xuXG4gICAgICAgIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3IgZm9yIGEgdnVsbmVyYWJpbGl0eSB0aGF0IGRvZXMgbm90IGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgY29udHJhY3QucmVhZFZ1bG5lcmFiaWxpdHkoY3R4LCAnMDAzJykuc2hvdWxkLmJlLnJlamVjdGVkV2l0aCgvVGhlIGFzc2V0IHZ1bG5lcmFiaWxpdHkgMDAzIGRvZXMgbm90IGV4aXN0Lyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgdnVsbmVyYWJpbGl0eScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRyYWN0LnJlYWRWdWxuZXJhYmlsaXR5KGN0eCwgJzAwMicpLnNob3VsZC5ldmVudHVhbGx5LmRlZXAuZXF1YWwoJ3tcInZlbmRvcklEXCI6XCIxNTAwXCIsIFwidmVuZG9yTmFtZVwiOlwiU29ueVwiLCBcInByb2R1Y3ROYW1lXCI6XCJMb1UyXCIsIFwidnVsbmVyYWJpbGl0eVR5cGVcIjpcIldlYWsgU3RvcnlcIiwgXCJ2dWxuZXJhYmlsaXR5U2V2ZXJpdHlcIjpcIk1laFwiLCBcImdyYWNlUGVyaW9kXCI6XCIwIGRheXNcIiwgXCJib3VudHlBbW91bnRcIjpcIiQwXCJ9Jyk7XG4gICAgICAgICAgICBjdHguc3R1Yi5nZXRQcml2YXRlRGF0YS5zaG91bGQuaGF2ZS5iZWVuLmNhbGxlZFdpdGhFeGFjdGx5KG15Q29sbGVjdGlvbk5hbWUsICcwMDInKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnI3VwZGF0ZVZ1bG5lcmFiaWxpdHknLCAoKSA9PiB7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciBmb3IgYSB2dWxuZXJhYmlsaXR5IHRoYXQgZG9lcyBub3QgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBjb250cmFjdC51cGRhdGVWdWxuZXJhYmlsaXR5KGN0eCwgJzAwMycpLnNob3VsZC5iZS5yZWplY3RlZFdpdGgoL1RoZSBhc3NldCB2dWxuZXJhYmlsaXR5IDAwMyBkb2VzIG5vdCBleGlzdC8pO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgbXkgcHJpdmF0ZSBhc3NldCBpZiB2dWxuZXJhYmlsaXR5IGV4aXN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zaWVudE1hcDogTWFwPHN0cmluZywgQnVmZmVyPiA9IG5ldyBNYXA8c3RyaW5nLCBCdWZmZXI+KCk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCd2ZW5kb3JJRCcsIEJ1ZmZlci5mcm9tKCcxODknKSk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCd2ZW5kb3JOYW1lJywgQnVmZmVyLmZyb20oJ1NvbnknKSk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCdwcm9kdWN0TmFtZScsIEJ1ZmZlci5mcm9tKCdQUzUnKSk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCd2dWxuZXJiaWxpdHlUeXBlJywgQnVmZmVyLmZyb20oJ1NKVyBBZ2VuZGEnKSk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCd2dWxuZXJhYmlsaXR5U2V2ZXJpdHknLCBCdWZmZXIuZnJvbSgnUDE5MjgxOScpKTtcbiAgICAgICAgICAgIHRyYW5zaWVudE1hcC5zZXQoJ2dyYWNlUGVyaW9kJywgQnVmZmVyLmZyb20oJzg5IGRheXMnKSk7XG4gICAgICAgICAgICB0cmFuc2llbnRNYXAuc2V0KCdib3VudHlBbW91bnQnLCBCdWZmZXIuZnJvbSgnJDEyNjcxMjYnKSk7XG4gICAgICAgICAgICBjdHguc3R1Yi5nZXRUcmFuc2llbnQucmV0dXJucyh0cmFuc2llbnRNYXApO1xuICAgICAgICAgICAgYXdhaXQgY29udHJhY3QudXBkYXRlVnVsbmVyYWJpbGl0eShjdHgsICcwMDEnKTtcbiAgICAgICAgICAgIGN0eC5zdHViLnB1dFByaXZhdGVEYXRhLnNob3VsZC5oYXZlLmJlZW4uY2FsbGVkT25jZVdpdGhFeGFjdGx5KG15Q29sbGVjdGlvbk5hbWUsICcwMDInLCAne1widmVuZG9ySURcIjpcIjE1MDBcIiwgXCJ2ZW5kb3JOYW1lXCI6XCJTb255XCIsIFwicHJvZHVjdE5hbWVcIjpcIkxvVTJcIiwgXCJ2dWxuZXJhYmlsaXR5VHlwZVwiOlwiU0pXIEFnZW5kYVwiLCBcInZ1bG5lcmFiaWxpdHlTZXZlcml0eVwiOlwiTWVoXCIsIFwiZ3JhY2VQZXJpb2RcIjpcIjAgZGF5c1wiLCBcImJvdW50eUFtb3VudFwiOlwiJDBcIn0nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciBpZiB0cmFuc2llbnQgZGF0YSBpcyBub3QgcHJvdmlkZWQgd2hlbiB1cGRhdGluZyBhIHZ1bG5lcmFiaWxpdHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2llbnRNYXA6IE1hcDxzdHJpbmcsIEJ1ZmZlcj4gPSBuZXcgTWFwPHN0cmluZywgQnVmZmVyPigpO1xuICAgICAgICAgICAgY3R4LnN0dWIuZ2V0VHJhbnNpZW50LnJldHVybnModHJhbnNpZW50TWFwKTtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRyYWN0LnVwZGF0ZVZ1bG5lcmFiaWxpdHkoY3R4LCAnMDAxJywgXCJOb3QgUGF0Y2hlZFwiKS5zaG91bGQuYmUucmVqZWN0ZWRXaXRoKGBUaGUgcHJpdmF0ZVZhbHVlIGtleSB3YXMgbm90IHNwZWNpZmllZCBpbiB0cmFuc2llbnQgZGF0YS4gUGxlYXNlIHRyeSBhZ2Fpbi5gKTtcbiAgICAgICAgfSk7Ki9cblxuICAgICAgICAvKiBpdCgnc2hvdWxkIHRocm93IGFuIGVycm9yIGlmIHRyYW5zaWVudCBkYXRhIGtleSBpcyBub3QgcHJpdmF0ZVZhbHVlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNpZW50TWFwOiBNYXA8c3RyaW5nLCBCdWZmZXI+ID0gbmV3IE1hcDxzdHJpbmcsIEJ1ZmZlcj4oKTtcbiAgICAgICAgICAgIHRyYW5zaWVudE1hcC5zZXQoJ3ByVmFsJywgQnVmZmVyLmZyb20oJzEyNScpKTtcbiAgICAgICAgICAgIGN0eC5zdHViLmdldFRyYW5zaWVudC5yZXR1cm5zKHRyYW5zaWVudE1hcCk7XG4gICAgICAgICAgICBhd2FpdCBjb250cmFjdC51cGRhdGVWdWxuZXJhYmlsaXR5KGN0eCwgJzAwMScpLnNob3VsZC5iZS5yZWplY3RlZFdpdGgoYFRoZSBwcml2YXRlVmFsdWUga2V5IHdhcyBub3Qgc3BlY2lmaWVkIGluIHRyYW5zaWVudCBkYXRhLiBQbGVhc2UgdHJ5IGFnYWluLmApO1xuICAgICAgICB9KTsqL1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJyNkZWxldGVWdWxuZXJhYmlsaXR5JywgKCkgPT4ge1xuXG4gICAgICAgIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3IgZm9yIGEgdnVsbmVyYWJpbGl0eSB0aGF0IGRvZXMgbm90IGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgY29udHJhY3QuZGVsZXRlVnVsbmVyYWJpbGl0eShjdHgsICcwMDMnKS5zaG91bGQuYmUucmVqZWN0ZWRXaXRoKC9UaGUgYXNzZXQgdnVsbmVyYWJpbGl0eSAwMDMgZG9lcyBub3QgZXhpc3QvKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBkZWxldGUgYSB2dWxuZXJhYmlsaXR5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgY29udHJhY3QuZGVsZXRlVnVsbmVyYWJpbGl0eShjdHgsICcwMDEnKTtcbiAgICAgICAgICAgIGN0eC5zdHViLmRlbGV0ZVByaXZhdGVEYXRhLnNob3VsZC5oYXZlLmJlZW4uY2FsbGVkT25jZVdpdGhFeGFjdGx5KG15Q29sbGVjdGlvbk5hbWUsICcwMDEnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnI3ZlcmlmeVZ1bG5lcmFiaWxpdHknLCAoKSA9PiB7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBpZiBoYXNoIGNhbGN1bGF0ZWQgZnJvbSBvYmplY3QgcHJvdmlkZWQgbWF0Y2hlcyB0aGUgaGFzaCBvZiB0aGUgcHJpdmF0ZSBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJpdmF0ZU9iajogc3RyaW5nID0gJ3tcInByaXZhdGVWYWx1ZVwiOlwiMTI1XCJ9JztcbiAgICAgICAgICAgIGNvbnN0IGhhc2hUb1ZlcmlmeTogc3RyaW5nID0gY3J5cHRvLmNyZWF0ZUhhc2goJ3NoYTI1NicpLnVwZGF0ZShwcml2YXRlT2JqKS5kaWdlc3QoJ2hleCcpO1xuICAgICAgICAgICAgY3R4LnN0dWIuZ2V0UHJpdmF0ZURhdGFIYXNoLndpdGhBcmdzKG15Q29sbGVjdGlvbk5hbWUsICcwMDInKS5yZXNvbHZlcyhCdWZmZXIuZnJvbShoYXNoVG9WZXJpZnksICdoZXgnKSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IGJvb2xlYW4gPSBhd2FpdCBjb250cmFjdC52ZXJpZnlWdWxuZXJhYmlsaXR5KGN0eCwgJzAwMicsIHt2ZW5kb3JJRDonMTUwMCcsIHZlbmRvck5hbWU6J1NvbnknLCBwcm9kdWN0TmFtZTonTG9VMicsIHZ1bG5lcmFiaWxpdHlUeXBlOidTSlcgQWdlbmRhJywgdnVsbmVyYWJpbGl0eVNldmVyaXR5OidNZWgnLCBncmFjZVBlcmlvZDonMCBkYXlzJywgYm91bnR5QW1vdW50OickMCd9KTtcbiAgICAgICAgICAgIHJlc3VsdC5zaG91bGQuZXF1YWwodHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlIGlmIGhhc2ggY2FsY3VsYXRlZCBmcm9tIG9iamVjdCBwcm92aWRlZCBkb2VzIG5vdCBtYXRjaCB0aGUgaGFzaCBvZiB0aGUgcHJpdmF0ZSBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY3R4LnN0dWIuZ2V0UHJpdmF0ZURhdGFIYXNoLndpdGhBcmdzKG15Q29sbGVjdGlvbk5hbWUsICcwMDInKS5yZXNvbHZlcyhCdWZmZXIuZnJvbSgnc29tZUhhc2gnKSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IGJvb2xlYW4gPSBhd2FpdCBjb250cmFjdC52ZXJpZnlWdWxuZXJhYmlsaXR5KGN0eCwgJzAwMicsIHt2ZW5kb3JJRDonc29tZVZhbHVlJywgdmVuZG9yTmFtZTonU29ueScsIHByb2R1Y3ROYW1lOidMb1UyJywgdnVsbmVyYWJpbGl0eVR5cGU6J1dlYWsgU3RvcnknLCB2dWxuZXJhYmlsaXR5U2V2ZXJpdHk6J01laCcsIGdyYWNlUGVyaW9kOicwIGRheXMnLCBib3VudHlBbW91bnQ6JyQwJ30pO1xuICAgICAgICAgICAgcmVzdWx0LnNob3VsZC5lcXVhbChmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIHRocm93IGFuIGVycm9yIHdoZW4gdXNlciB0cmllcyB0byB2ZXJpZnkgYW4gYXNzZXQgdGhhdCBkb2VzbnQgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjdHguc3R1Yi5nZXRQcml2YXRlRGF0YUhhc2gud2l0aEFyZ3MobXlDb2xsZWN0aW9uTmFtZSwgJzAwNScpLnJlc29sdmVzKEJ1ZmZlci5mcm9tKCcnKSk7XG4gICAgICAgICAgICBhd2FpdCBjb250cmFjdC52ZXJpZnlWdWxuZXJhYmlsaXR5KGN0eCwgJzAwNScsIHt2ZW5kb3JJRDonc29tZVZhbHVlJywgdmVuZG9yTmFtZTonU29ueScsIHByb2R1Y3ROYW1lOidMb1UyJywgdnVsbmVyYWJpbGl0eVR5cGU6J1dlYWsgU3RvcnknLCB2dWxuZXJhYmlsaXR5U2V2ZXJpdHk6J01laCcsIGdyYWNlUGVyaW9kOicwIGRheXMnLCBib3VudHlBbW91bnQ6JyQwJ30pLnNob3VsZC5iZS5yZWplY3RlZFdpdGgoJ05vIHByaXZhdGUgZGF0YSBoYXNoIHdpdGggdGhlIEtleTogMDA1Jyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXX0=